

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; Airflow Documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Airflow Documentation" href="index.html"/>
        <link rel="prev" title="FAQ" href="faq.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Airflow
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="project.html">Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">UI / Screenshots</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Data Profiling</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduler.html">Scheduling &amp; Triggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Experimental Rest API</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#operators">Operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#baseoperator">BaseOperator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basesensoroperator">BaseSensorOperator</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operator-api">Operator API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#community-contributed-operators">Community-contributed Operators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#macros">Macros</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#default-variables">Default Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">Macros</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#models">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hooks">Hooks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#community-contributed-hooks">Community contributed hooks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#executors">Executors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#community-contributed-executors">Community-contributed executors</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Airflow</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/code.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="operators">
<h2>Operators<a class="headerlink" href="#operators" title="Permalink to this headline">¶</a></h2>
<p>Operators allow for generation of certain types of tasks that become nodes in
the DAG when instantiated. All operators derive from BaseOperator and
inherit many attributes and methods that way. Refer to the BaseOperator
documentation for more details.</p>
<p>There are 3 main types of operators:</p>
<ul class="simple">
<li>Operators that performs an <strong>action</strong>, or tell another system to
perform an action</li>
<li><strong>Transfer</strong> operators move data from one system to another</li>
<li><strong>Sensors</strong> are a certain type of operator that will keep running until a
certain criterion is met. Examples include a specific file landing in HDFS or
S3, a partition appearing in Hive, or a specific time of the day. Sensors
are derived from <code class="docutils literal"><span class="pre">BaseSensorOperator</span></code> and run a poke
method at a specified <code class="docutils literal"><span class="pre">poke_interval</span></code> until it returns <code class="docutils literal"><span class="pre">True</span></code>.</li>
</ul>
<div class="section" id="baseoperator">
<h3>BaseOperator<a class="headerlink" href="#baseoperator" title="Permalink to this headline">¶</a></h3>
<p>All operators are derived from <code class="docutils literal"><span class="pre">BaseOperator</span></code> and acquire much
functionality through inheritance. Since this is the core of the engine,
it’s worth taking the time to understand the parameters of <code class="docutils literal"><span class="pre">BaseOperator</span></code>
to understand the primitive features that can be leveraged in your
DAGs.</p>
<dl class="class">
<dt id="airflow.models.BaseOperator">
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">BaseOperator</code><span class="sig-paren">(</span><em>task_id</em>, <em>owner='Airflow'</em>, <em>email=None</em>, <em>email_on_retry=True</em>, <em>email_on_failure=True</em>, <em>retries=0</em>, <em>retry_delay=datetime.timedelta(0</em>, <em>300)</em>, <em>retry_exponential_backoff=False</em>, <em>max_retry_delay=None</em>, <em>start_date=None</em>, <em>end_date=None</em>, <em>schedule_interval=None</em>, <em>depends_on_past=False</em>, <em>wait_for_downstream=False</em>, <em>dag=None</em>, <em>params=None</em>, <em>default_args=None</em>, <em>adhoc=False</em>, <em>priority_weight=1</em>, <em>queue='default'</em>, <em>pool=None</em>, <em>sla=None</em>, <em>execution_timeout=None</em>, <em>on_failure_callback=None</em>, <em>on_success_callback=None</em>, <em>on_retry_callback=None</em>, <em>trigger_rule=u'all_success'</em>, <em>resources=None</em>, <em>run_as_user=None</em>, <em>task_concurrency=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for all operators. Since operators create objects that
become node in the dag, BaseOperator contains many recursive methods for
dag crawling behavior. To derive this class, you are expected to override
the constructor as well as the ‘execute’ method.</p>
<p>Operators derived from this class should perform or trigger certain tasks
synchronously (wait for completion). Example of operators could be an
operator the runs a Pig job (PigOperator), a sensor operator that
waits for a partition to land in Hive (HiveSensorOperator), or one that
moves data from Hive to MySQL (Hive2MySqlOperator). Instances of these
operators (tasks) target specific operations, running specific scripts,
functions or data transfers.</p>
<p>This class is abstract and shouldn’t be instantiated. Instantiating a
class derived from this one results in the creation of a task object,
which ultimately becomes a node in DAG objects. Task dependencies should
be set by using the set_upstream and/or set_downstream methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_id</strong> (<em>string</em>) – a unique, meaningful id for the task</li>
<li><strong>owner</strong> (<em>string</em>) – the owner of the task, using the unix username is recommended</li>
<li><strong>retries</strong> (<em>int</em>) – the number of retries that should be performed before
failing the task</li>
<li><strong>retry_delay</strong> (<em>timedelta</em>) – delay between retries</li>
<li><strong>retry_exponential_backoff</strong> (<em>bool</em>) – allow progressive longer waits between
retries by using exponential backoff algorithm on retry delay (delay
will be converted into seconds)</li>
<li><strong>max_retry_delay</strong> (<em>timedelta</em>) – maximum delay interval between retries</li>
<li><strong>start_date</strong> (<em>datetime</em>) – The <code class="docutils literal"><span class="pre">start_date</span></code> for the task, determines
the <code class="docutils literal"><span class="pre">execution_date</span></code> for the first task instance. The best practice
is to have the start_date rounded
to your DAG’s <code class="docutils literal"><span class="pre">schedule_interval</span></code>. Daily jobs have their start_date
some day at 00:00:00, hourly jobs have their start_date at 00:00
of a specific hour. Note that Airflow simply looks at the latest
<code class="docutils literal"><span class="pre">execution_date</span></code> and adds the <code class="docutils literal"><span class="pre">schedule_interval</span></code> to determine
the next <code class="docutils literal"><span class="pre">execution_date</span></code>. It is also very important
to note that different tasks’ dependencies
need to line up in time. If task A depends on task B and their
start_date are offset in a way that their execution_date don’t line
up, A’s dependencies will never be met. If you are looking to delay
a task, for example running a daily task at 2AM, look into the
<code class="docutils literal"><span class="pre">TimeSensor</span></code> and <code class="docutils literal"><span class="pre">TimeDeltaSensor</span></code>. We advise against using
dynamic <code class="docutils literal"><span class="pre">start_date</span></code> and recommend using fixed ones. Read the
FAQ entry about start_date for more information.</li>
<li><strong>end_date</strong> (<em>datetime</em>) – if specified, the scheduler won’t go beyond this date</li>
<li><strong>depends_on_past</strong> (<em>bool</em>) – when set to true, task instances will run
sequentially while relying on the previous task’s schedule to
succeed. The task instance for the start_date is allowed to run.</li>
<li><strong>wait_for_downstream</strong> (<em>bool</em>) – when set to true, an instance of task
X will wait for tasks immediately downstream of the previous instance
of task X to finish successfully before it runs. This is useful if the
different instances of a task X alter the same asset, and this asset
is used by tasks downstream of task X. Note that depends_on_past
is forced to True wherever wait_for_downstream is used.</li>
<li><strong>queue</strong> (<em>str</em>) – which queue to target when running this job. Not
all executors implement queue management, the CeleryExecutor
does support targeting specific queues.</li>
<li><strong>dag</strong> (<a class="reference internal" href="#airflow.models.DAG" title="airflow.models.DAG"><em>DAG</em></a>) – a reference to the dag the task is attached to (if any)</li>
<li><strong>priority_weight</strong> (<em>int</em>) – priority weight of this task against other task.
This allows the executor to trigger higher priority tasks before
others when things get backed up.</li>
<li><strong>pool</strong> (<em>str</em>) – the slot pool this task should run in, slot pools are a
way to limit concurrency for certain tasks</li>
<li><strong>sla</strong> (<em>datetime.timedelta</em>) – time by which the job is expected to succeed. Note that
this represents the <code class="docutils literal"><span class="pre">timedelta</span></code> after the period is closed. For
example if you set an SLA of 1 hour, the scheduler would send dan email
soon after 1:00AM on the <code class="docutils literal"><span class="pre">2016-01-02</span></code> if the <code class="docutils literal"><span class="pre">2016-01-01</span></code> instance
has not succeeded yet.
The scheduler pays special attention for jobs with an SLA and
sends alert
emails for sla misses. SLA misses are also recorded in the database
for future reference. All tasks that share the same SLA time
get bundled in a single email, sent soon after that time. SLA
notification are sent once and only once for each task instance.</li>
<li><strong>execution_timeout</strong> (<em>datetime.timedelta</em>) – max time allowed for the execution of
this task instance, if it goes beyond it will raise and fail.</li>
<li><strong>on_failure_callback</strong> (<em>callable</em>) – a function to be called when a task instance
of this task fails. a context dictionary is passed as a single
parameter to this function. Context contains references to related
objects to the task instance and is documented under the macros
section of the API.</li>
<li><strong>on_retry_callback</strong> – much like the <code class="docutils literal"><span class="pre">on_failure_callback</span></code> except
that it is executed when retries occur.</li>
<li><strong>on_success_callback</strong> (<em>callable</em>) – much like the <code class="docutils literal"><span class="pre">on_failure_callback</span></code> except
that it is executed when the task succeeds.</li>
<li><strong>trigger_rule</strong> (<em>str</em>) – defines the rule by which dependencies are applied
for the task to get triggered. Options are:
<code class="docutils literal"><span class="pre">{</span> <span class="pre">all_success</span> <span class="pre">|</span> <span class="pre">all_failed</span> <span class="pre">|</span> <span class="pre">all_done</span> <span class="pre">|</span> <span class="pre">one_success</span> <span class="pre">|</span>
<span class="pre">one_failed</span> <span class="pre">|</span> <span class="pre">dummy}</span></code>
default is <code class="docutils literal"><span class="pre">all_success</span></code>. Options can be set as string or
using the constants defined in the static class
<code class="docutils literal"><span class="pre">airflow.utils.TriggerRule</span></code></li>
<li><strong>resources</strong> (<em>dict</em>) – A map of resource parameter names (the argument names of the
Resources constructor) to their values.</li>
<li><strong>run_as_user</strong> (<em>str</em>) – unix username to impersonate while running the task</li>
<li><strong>task_concurrency</strong> (<em>int</em>) – When set, a task will be able to limit the concurrent
runs across execution_dates</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="basesensoroperator">
<h3>BaseSensorOperator<a class="headerlink" href="#basesensoroperator" title="Permalink to this headline">¶</a></h3>
<p>All sensors are derived from <code class="docutils literal"><span class="pre">BaseSensorOperator</span></code>. All sensors inherit
the <code class="docutils literal"><span class="pre">timeout</span></code> and <code class="docutils literal"><span class="pre">poke_interval</span></code> on top of the <code class="docutils literal"><span class="pre">BaseOperator</span></code>
attributes.</p>
<dl class="class">
<dt id="airflow.operators.sensors.BaseSensorOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.sensors.</code><code class="descname">BaseSensorOperator</code><span class="sig-paren">(</span><em>poke_interval=60</em>, <em>timeout=604800</em>, <em>soft_fail=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/operators/sensors.html#BaseSensorOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.sensors.BaseSensorOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Sensor operators are derived from this class an inherit these attributes.</p>
<dl class="docutils">
<dt>Sensor operators keep executing at a time interval and succeed when</dt>
<dd>a criteria is met and fail if and when they time out.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>soft_fail</strong> (<em>bool</em>) – Set to true to mark the task as SKIPPED on failure</li>
<li><strong>poke_interval</strong> (<em>int</em>) – Time in seconds that the job should wait in
between each tries</li>
<li><strong>timeout</strong> (<em>int</em>) – Time, in seconds before the task times out and fails.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="operator-api">
<h3>Operator API<a class="headerlink" href="#operator-api" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-airflow.operators"></span><p>Importer that dynamically loads a class and module from its parent. This
allows Airflow to support <code class="docutils literal"><span class="pre">from</span> <span class="pre">airflow.operators</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code>
even though BashOperator is actually in
<code class="docutils literal"><span class="pre">airflow.operators.bash_operator</span></code>.</p>
<p>The importer also takes over for the parent_module by wrapping it. This is
required to support attribute-based usage:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">airflow</span> <span class="k">import</span> <span class="n">operators</span>
<span class="n">operators</span><span class="o">.</span><span class="n">BashOperator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="airflow.operators.BashOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">BashOperator</code><span class="sig-paren">(</span><em>bash_command</em>, <em>xcom_push=False</em>, <em>env=None</em>, <em>output_encoding='utf-8'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bash_operator.html#BashOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.BashOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Execute a Bash script, command or set of commands.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bash_command</strong> (<em>string</em>) – The command, set of commands or reference to a
bash script (must be ‘.sh’) to be executed.</li>
<li><strong>xcom_push</strong> (<em>bool</em>) – If xcom_push is True, the last line written to stdout
will also be pushed to an XCom when the bash command completes.</li>
<li><strong>env</strong> (<em>dict</em>) – If env is not None, it must be a mapping that defines the
environment variables for the new process; these are used instead
of inheriting the current process environment, which is the default
behavior. (templated)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.operators.BashOperator.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bash_operator.html#BashOperator.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.BashOperator.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the bash command in a temporary directory
which will be cleaned afterwards</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.operators.BranchPythonOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">BranchPythonOperator</code><span class="sig-paren">(</span><em>python_callable</em>, <em>op_args=None</em>, <em>op_kwargs=None</em>, <em>provide_context=False</em>, <em>templates_dict=None</em>, <em>templates_exts=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/python_operator.html#BranchPythonOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.BranchPythonOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">python_operator.PythonOperator</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.models.SkipMixin</span></code></p>
<p>Allows a workflow to “branch” or follow a single path following the
execution of this task.</p>
<p>It derives the PythonOperator and expects a Python function that returns
the task_id to follow. The task_id returned should point to a task
directly downstream from {self}. All other “branches” or
directly downstream tasks are marked with a state of <code class="docutils literal"><span class="pre">skipped</span></code> so that
these paths can’t move forward. The <code class="docutils literal"><span class="pre">skipped</span></code> states are propageted
downstream to allow for the DAG state to fill up and the DAG run’s state
to be inferred.</p>
<p>Note that using tasks with <code class="docutils literal"><span class="pre">depends_on_past=True</span></code> downstream from
<code class="docutils literal"><span class="pre">BranchPythonOperator</span></code> is logically unsound as <code class="docutils literal"><span class="pre">skipped</span></code> status
will invariably lead to block tasks that depend on their past successes.
<code class="docutils literal"><span class="pre">skipped</span></code> states propagates where all directly upstream tasks are
<code class="docutils literal"><span class="pre">skipped</span></code>.</p>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.TriggerDagRunOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">TriggerDagRunOperator</code><span class="sig-paren">(</span><em>trigger_dag_id</em>, <em>python_callable</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dagrun_operator.html#TriggerDagRunOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.TriggerDagRunOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Triggers a DAG run for a specified <code class="docutils literal"><span class="pre">dag_id</span></code> if a criteria is met</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>trigger_dag_id</strong> (<em>str</em>) – the dag_id to trigger</li>
<li><strong>python_callable</strong> (<em>python callable</em>) – a reference to a python function that will be
called while passing it the <code class="docutils literal"><span class="pre">context</span></code> object and a placeholder
object <code class="docutils literal"><span class="pre">obj</span></code> for your callable to fill and return if you want
a DagRun created. This <code class="docutils literal"><span class="pre">obj</span></code> object contains a <code class="docutils literal"><span class="pre">run_id</span></code> and
<code class="docutils literal"><span class="pre">payload</span></code> attribute that you can modify in your function.
The <code class="docutils literal"><span class="pre">run_id</span></code> should be a unique identifier for that DAG run, and
the payload has to be a picklable object that will be made available
to your tasks while executing that DAG run. Your function header
should look like <code class="docutils literal"><span class="pre">def</span> <span class="pre">foo(context,</span> <span class="pre">dag_run_obj):</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.DummyOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">DummyOperator</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dummy_operator.html#DummyOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.DummyOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Operator that does literally nothing. It can be used to group tasks in a
DAG.</p>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.EmailOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">EmailOperator</code><span class="sig-paren">(</span><em>to</em>, <em>subject</em>, <em>html_content</em>, <em>files=None</em>, <em>cc=None</em>, <em>bcc=None</em>, <em>mime_subtype='mixed'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/email_operator.html#EmailOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.EmailOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Sends an email.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>to</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em> or </em><em>string</em><em> (</em><em>comma</em><em> or </em><em>semicolon delimited</em><em>)</em>) – list of emails to send the email to</li>
<li><strong>subject</strong> (<em>string</em>) – subject line for the email (templated)</li>
<li><strong>html_content</strong> (<em>string</em>) – content of the email (templated), html markup
is allowed</li>
<li><strong>files</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – file names to attach in email</li>
<li><strong>cc</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em> or </em><em>string</em><em> (</em><em>comma</em><em> or </em><em>semicolon delimited</em><em>)</em>) – list of recipients to be added in CC field</li>
<li><strong>bcc</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em> or </em><em>string</em><em> (</em><em>comma</em><em> or </em><em>semicolon delimited</em><em>)</em>) – list of recipients to be added in BCC field</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.ExternalTaskSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">ExternalTaskSensor</code><span class="sig-paren">(</span><em>external_dag_id</em>, <em>external_task_id</em>, <em>allowed_states=None</em>, <em>execution_delta=None</em>, <em>execution_date_fn=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#ExternalTaskSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.ExternalTaskSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a task to complete in a different DAG</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>external_dag_id</strong> (<em>string</em>) – The dag_id that contains the task you want to
wait for</li>
<li><strong>external_task_id</strong> (<em>string</em>) – The task_id that contains the task you want to
wait for</li>
<li><strong>allowed_states</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – list of allowed states, default is <code class="docutils literal"><span class="pre">['success']</span></code></li>
<li><strong>execution_delta</strong> (<em>datetime.timedelta</em>) – time difference with the previous execution to
look at, the default is the same execution_date as the current task.
For yesterday, use [positive!] datetime.timedelta(days=1). Either
execution_delta or execution_date_fn can be passed to
ExternalTaskSensor, but not both.</li>
<li><strong>execution_date_fn</strong> (<em>callable</em>) – function that receives the current execution date
and returns the desired execution dates to query. Either execution_delta
or execution_date_fn can be passed to ExternalTaskSensor, but not both.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.GenericTransfer">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">GenericTransfer</code><span class="sig-paren">(</span><em>sql</em>, <em>destination_table</em>, <em>source_conn_id</em>, <em>destination_conn_id</em>, <em>preoperator=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/generic_transfer.html#GenericTransfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.GenericTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Moves data from a connection to another, assuming that they both
provide the required methods in their respective hooks. The source hook
needs to expose a <cite>get_records</cite> method, and the destination a
<cite>insert_rows</cite> method.</p>
<p>This is meant to be used on small-ish datasets that fit in memory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em>) – SQL query to execute against the source database</li>
<li><strong>destination_table</strong> (<em>str</em>) – target table</li>
<li><strong>source_conn_id</strong> (<em>str</em>) – source connection</li>
<li><strong>destination_conn_id</strong> (<em>str</em>) – source connection</li>
<li><strong>preoperator</strong> (<em>str</em><em> or </em><em>list of str</em>) – sql statement or list of statements to be
executed prior to loading the data</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.HdfsSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HdfsSensor</code><span class="sig-paren">(</span><em>filepath, hdfs_conn_id='hdfs_default', ignored_ext=['_COPYING_'], ignore_copying=True, file_size=None, hook=&lt;class 'airflow.hooks.hdfs_hook.HDFSHook'&gt;, *args, **kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#HdfsSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HdfsSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a file or folder to land in HDFS</p>
<dl class="staticmethod">
<dt id="airflow.operators.HdfsSensor.filter_for_filesize">
<em class="property">static </em><code class="descname">filter_for_filesize</code><span class="sig-paren">(</span><em>result</em>, <em>size=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#HdfsSensor.filter_for_filesize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HdfsSensor.filter_for_filesize" title="Permalink to this definition">¶</a></dt>
<dd><p>Will test the filepath result and test if its size is at least self.filesize</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>result</strong> – a list of dicts returned by Snakebite ls</li>
<li><strong>size</strong> – the file size in MB a file should be at least to trigger True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(bool) depending on the matching criteria</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="airflow.operators.HdfsSensor.filter_for_ignored_ext">
<em class="property">static </em><code class="descname">filter_for_ignored_ext</code><span class="sig-paren">(</span><em>result</em>, <em>ignored_ext</em>, <em>ignore_copying</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#HdfsSensor.filter_for_ignored_ext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HdfsSensor.filter_for_ignored_ext" title="Permalink to this definition">¶</a></dt>
<dd><p>Will filter if instructed to do so the result to remove matching criteria</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>result</strong> – (list) of dicts returned by Snakebite ls</li>
<li><strong>ignored_ext</strong> – (list) of ignored extensions</li>
<li><strong>ignore_copying</strong> – (bool) shall we ignore ?</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(list) of dicts which were not removed</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.operators.HiveOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HiveOperator</code><span class="sig-paren">(</span><em>hql</em>, <em>hive_cli_conn_id='hive_cli_default'</em>, <em>schema='default'</em>, <em>hiveconf_jinja_translate=False</em>, <em>script_begin_tag=None</em>, <em>run_as_owner=False</em>, <em>mapred_queue=None</em>, <em>mapred_queue_priority=None</em>, <em>mapred_job_name=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_operator.html#HiveOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HiveOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Executes hql code in a specific Hive database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>hql</strong> (<em>string</em>) – the hql to be executed</li>
<li><strong>hive_cli_conn_id</strong> (<em>string</em>) – reference to the Hive database</li>
<li><strong>hiveconf_jinja_translate</strong> (<em>boolean</em>) – when True, hiveconf-type templating
${var} gets translated into jinja-type templating {{ var }}. Note that
you may want to use this along with the
<code class="docutils literal"><span class="pre">DAG(user_defined_macros=myargs)</span></code> parameter. View the DAG
object documentation for more details.</li>
<li><strong>script_begin_tag</strong> (<em>str</em>) – If defined, the operator will get rid of the
part of the script before the first occurrence of <cite>script_begin_tag</cite></li>
<li><strong>mapred_queue</strong> (<em>string</em>) – queue used by the Hadoop CapacityScheduler</li>
<li><strong>mapred_queue_priority</strong> (<em>string</em>) – priority within CapacityScheduler queue.
Possible settings include: VERY_HIGH, HIGH, NORMAL, LOW, VERY_LOW</li>
<li><strong>mapred_job_name</strong> (<em>string</em>) – This name will appear in the jobtracker.
This can make monitoring easier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.HivePartitionSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HivePartitionSensor</code><span class="sig-paren">(</span><em>table</em>, <em>partition=&quot;ds='{{ ds }}'&quot;</em>, <em>metastore_conn_id='metastore_default'</em>, <em>schema='default'</em>, <em>poke_interval=180</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#HivePartitionSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HivePartitionSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a partition to show up in Hive.</p>
<p>Note: Because <code class="docutils literal"><span class="pre">partition</span></code> supports general logical operators, it
can be inefficient. Consider using NamedHivePartitionSensor instead if
you don’t need the full flexibility of HivePartitionSensor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>string</em>) – The name of the table to wait for, supports the dot
notation (my_database.my_table)</li>
<li><strong>partition</strong> (<em>string</em>) – The partition clause to wait for. This is passed as
is to the metastore Thrift client <code class="docutils literal"><span class="pre">get_partitions_by_filter</span></code> method,
and apparently supports SQL like notation as in <code class="docutils literal"><span class="pre">ds='2015-01-01'</span>
<span class="pre">AND</span> <span class="pre">type='value'</span></code> and comparison operators as in <code class="docutils literal"><span class="pre">&quot;ds&gt;=2015-01-01&quot;</span></code></li>
<li><strong>metastore_conn_id</strong> (<em>str</em>) – reference to the metastore thrift service
connection id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.HiveToDruidTransfer">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HiveToDruidTransfer</code><span class="sig-paren">(</span><em>sql</em>, <em>druid_datasource</em>, <em>ts_dim</em>, <em>metric_spec=None</em>, <em>hive_cli_conn_id='hive_cli_default'</em>, <em>druid_ingest_conn_id='druid_ingest_default'</em>, <em>metastore_conn_id='metastore_default'</em>, <em>hadoop_dependency_coordinates=None</em>, <em>intervals=None</em>, <em>num_shards=-1</em>, <em>target_partition_size=-1</em>, <em>query_granularity='NONE'</em>, <em>segment_granularity='DAY'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_to_druid.html#HiveToDruidTransfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HiveToDruidTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Moves data from Hive to Druid, [del]note that for now the data is loaded
into memory before being pushed to Druid, so this operator should
be used for smallish amount of data.[/del]</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em>) – SQL query to execute against the Druid database</li>
<li><strong>druid_datasource</strong> (<em>str</em>) – the datasource you want to ingest into in druid</li>
<li><strong>ts_dim</strong> (<em>str</em>) – the timestamp dimension</li>
<li><strong>metric_spec</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – the metrics you want to define for your data</li>
<li><strong>hive_cli_conn_id</strong> (<em>str</em>) – the hive connection id</li>
<li><strong>druid_ingest_conn_id</strong> (<em>str</em>) – the druid ingest connection id</li>
<li><strong>metastore_conn_id</strong> (<em>str</em>) – the metastore connection id</li>
<li><strong>hadoop_dependency_coordinates</strong> (<em>list of str</em>) – list of coordinates to squeeze
int the ingest json</li>
<li><strong>intervals</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – list of time intervals that defines segments, this
is passed as is to the json object</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.operators.HiveToDruidTransfer.construct_ingest_query">
<code class="descname">construct_ingest_query</code><span class="sig-paren">(</span><em>static_path</em>, <em>columns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_to_druid.html#HiveToDruidTransfer.construct_ingest_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HiveToDruidTransfer.construct_ingest_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds an ingest query for an HDFS TSV load.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>static_path</strong> (<em>str</em>) – The path on hdfs where the data is</li>
<li><strong>columns</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – List of all the columns that are available</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.operators.HiveToMySqlTransfer">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HiveToMySqlTransfer</code><span class="sig-paren">(</span><em>sql</em>, <em>mysql_table</em>, <em>hiveserver2_conn_id='hiveserver2_default'</em>, <em>mysql_conn_id='mysql_default'</em>, <em>mysql_preoperator=None</em>, <em>mysql_postoperator=None</em>, <em>bulk_load=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_to_mysql.html#HiveToMySqlTransfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HiveToMySqlTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Moves data from Hive to MySQL, note that for now the data is loaded
into memory before being pushed to MySQL, so this operator should
be used for smallish amount of data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em>) – SQL query to execute against the MySQL database</li>
<li><strong>mysql_table</strong> (<em>str</em>) – target MySQL table, use dot notation to target a
specific database</li>
<li><strong>mysql_conn_id</strong> (<em>str</em>) – source mysql connection</li>
<li><strong>hiveserver2_conn_id</strong> (<em>str</em>) – destination hive connection</li>
<li><strong>mysql_preoperator</strong> (<em>str</em>) – sql statement to run against mysql prior to
import, typically use to truncate of delete in place of the data
coming in, allowing the task to be idempotent (running the task
twice won’t double load data)</li>
<li><strong>mysql_postoperator</strong> (<em>str</em>) – sql statement to run against mysql after the
import, typically used to move data from staging to production
and issue cleanup commands.</li>
<li><strong>bulk_load</strong> (<em>bool</em>) – flag to use bulk_load option.  This loads mysql directly
from a tab-delimited text file using the LOAD DATA LOCAL INFILE command.
This option requires an extra connection parameter for the
destination MySQL connection: {‘local_infile’: true}.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.SimpleHttpOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">SimpleHttpOperator</code><span class="sig-paren">(</span><em>endpoint</em>, <em>method='POST'</em>, <em>data=None</em>, <em>headers=None</em>, <em>response_check=None</em>, <em>extra_options=None</em>, <em>xcom_push=False</em>, <em>http_conn_id='http_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/http_operator.html#SimpleHttpOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SimpleHttpOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Calls an endpoint on an HTTP system to execute an action</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>http_conn_id</strong> (<em>string</em>) – The connection to run the sensor against</li>
<li><strong>endpoint</strong> (<em>string</em>) – The relative part of the full url</li>
<li><strong>method</strong> (<em>string</em>) – The HTTP method to use, default = “POST”</li>
<li><strong>data</strong> (<em>For POST/PUT</em><em>, </em><em>depends on the content-type parameter</em><em>,
</em><em>for GET a dictionary of key/value string pairs</em>) – The data to pass. POST-data in POST/PUT and params
in the URL for a GET request.</li>
<li><strong>headers</strong> (<em>a dictionary of string key/value pairs</em>) – The HTTP headers to be added to the GET request</li>
<li><strong>response_check</strong> (<em>A lambda</em><em> or </em><em>defined function.</em>) – A check against the ‘requests’ response object.
Returns True for ‘pass’ and False otherwise.</li>
<li><strong>extra_options</strong> (<em>A dictionary of options</em><em>, </em><em>where key is string and value
depends on the option that's being modified.</em>) – Extra options for the ‘requests’ library, see the
‘requests’ documentation (options to modify timeout, ssl, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.HttpSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">HttpSensor</code><span class="sig-paren">(</span><em>endpoint</em>, <em>http_conn_id='http_default'</em>, <em>method='GET'</em>, <em>request_params=None</em>, <em>headers=None</em>, <em>response_check=None</em>, <em>extra_options=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#HttpSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.HttpSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<dl class="docutils">
<dt>Executes a HTTP get statement and returns False on failure:</dt>
<dd>404 not found or response_check function returned False</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>http_conn_id</strong> (<em>string</em>) – The connection to run the sensor against</li>
<li><strong>method</strong> (<em>string</em>) – The HTTP request method to use</li>
<li><strong>endpoint</strong> (<em>string</em>) – The relative part of the full url</li>
<li><strong>request_params</strong> (<em>a dictionary of string key/value pairs</em>) – The parameters to be added to the GET url</li>
<li><strong>headers</strong> (<em>a dictionary of string key/value pairs</em>) – The HTTP headers to be added to the GET request</li>
<li><strong>response_check</strong> (<em>A lambda</em><em> or </em><em>defined function.</em>) – A check against the ‘requests’ response object.
Returns True for ‘pass’ and False otherwise.</li>
<li><strong>extra_options</strong> (<em>A dictionary of options</em><em>, </em><em>where key is string and value
depends on the option that's being modified.</em>) – Extra options for the ‘requests’ library, see the
‘requests’ documentation (options to modify timeout, ssl, etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.MetastorePartitionSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">MetastorePartitionSensor</code><span class="sig-paren">(</span><em>table</em>, <em>partition_name</em>, <em>schema='default'</em>, <em>mysql_conn_id='metastore_mysql'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#MetastorePartitionSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.MetastorePartitionSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sensors.SqlSensor</span></code></p>
<p>An alternative to the HivePartitionSensor that talk directly to the
MySQL db. This was created as a result of observing sub optimal
queries generated by the Metastore thrift service when hitting
subpartitioned tables. The Thrift service’s queries were written in a
way that wouldn’t leverage the indexes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>schema</strong> (<em>str</em>) – the schema</li>
<li><strong>table</strong> (<em>str</em>) – the table</li>
<li><strong>partition_name</strong> (<em>str</em>) – the partition name, as defined in the PARTITIONS
table of the Metastore. Order of the fields does matter.
Examples: <code class="docutils literal"><span class="pre">ds=2016-01-01</span></code> or
<code class="docutils literal"><span class="pre">ds=2016-01-01/sub=foo</span></code> for a sub partitioned table</li>
<li><strong>mysql_conn_id</strong> (<em>str</em>) – a reference to the MySQL conn_id for the metastore</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.MySqlOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">MySqlOperator</code><span class="sig-paren">(</span><em>sql</em>, <em>mysql_conn_id='mysql_default'</em>, <em>parameters=None</em>, <em>autocommit=False</em>, <em>database=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mysql_operator.html#MySqlOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.MySqlOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Executes sql code in a specific MySQL database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mysql_conn_id</strong> (<em>string</em>) – reference to a specific mysql database</li>
<li><strong>sql</strong> (<em>Can receive a str representing a sql statement</em><em>,
</em><em>a list of str</em><em> (</em><em>sql statements</em><em>)</em><em>, or </em><em>reference to a template file.
Template reference are recognized by str ending in '.sql'</em>) – the sql code to be executed</li>
<li><strong>database</strong> (<em>string</em>) – name of database which overwrite defined one in connection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.MySqlToHiveTransfer">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">MySqlToHiveTransfer</code><span class="sig-paren">(</span><em>sql</em>, <em>hive_table</em>, <em>create=True</em>, <em>recreate=False</em>, <em>partition=None</em>, <em>delimiter=u'x01'</em>, <em>mysql_conn_id='mysql_default'</em>, <em>hive_cli_conn_id='hive_cli_default'</em>, <em>tblproperties=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mysql_to_hive.html#MySqlToHiveTransfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.MySqlToHiveTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Moves data from MySql to Hive. The operator runs your query against
MySQL, stores the file locally before loading it into a Hive table.
If the <code class="docutils literal"><span class="pre">create</span></code> or <code class="docutils literal"><span class="pre">recreate</span></code> arguments are set to <code class="docutils literal"><span class="pre">True</span></code>,
a <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> and <code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code> statements are generated.
Hive data types are inferred from the cursor’s metadata. Note that the
table generated in Hive uses <code class="docutils literal"><span class="pre">STORED</span> <span class="pre">AS</span> <span class="pre">textfile</span></code>
which isn’t the most efficient serialization format. If a
large amount of data is loaded and/or if the table gets
queried considerably, you may want to use this operator only to
stage the data into a temporary table before loading it into its
final destination using a <code class="docutils literal"><span class="pre">HiveOperator</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em>) – SQL query to execute against the MySQL database</li>
<li><strong>hive_table</strong> (<em>str</em>) – target Hive table, use dot notation to target a
specific database</li>
<li><strong>create</strong> (<em>bool</em>) – whether to create the table if it doesn’t exist</li>
<li><strong>recreate</strong> (<em>bool</em>) – whether to drop and recreate the table at every
execution</li>
<li><strong>partition</strong> (<em>dict</em>) – target partition as a dict of partition columns
and values</li>
<li><strong>delimiter</strong> (<em>str</em>) – field delimiter in the file</li>
<li><strong>mysql_conn_id</strong> (<em>str</em>) – source mysql connection</li>
<li><strong>hive_conn_id</strong> (<em>str</em>) – destination hive connection</li>
<li><strong>tblproperties</strong> (<em>dict</em>) – TBLPROPERTIES of the hive table being created</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.NamedHivePartitionSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">NamedHivePartitionSensor</code><span class="sig-paren">(</span><em>partition_names</em>, <em>metastore_conn_id='metastore_default'</em>, <em>poke_interval=180</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#NamedHivePartitionSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.NamedHivePartitionSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a set of partitions to show up in Hive.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>partition_names</strong> (<em>list of strings</em>) – List of fully qualified names of the
partitions to wait for. A fully qualified name is of the
form <code class="docutils literal"><span class="pre">schema.table/pk1=pv1/pk2=pv2</span></code>, for example,
default.users/ds=2016-01-01. This is passed as is to the metastore
Thrift client <code class="docutils literal"><span class="pre">get_partitions_by_name</span></code> method. Note that
you cannot use logical or comparison operators as in
HivePartitionSensor.</li>
<li><strong>metastore_conn_id</strong> (<em>str</em>) – reference to the metastore thrift service
connection id</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.PostgresOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">PostgresOperator</code><span class="sig-paren">(</span><em>sql</em>, <em>postgres_conn_id='postgres_default'</em>, <em>autocommit=False</em>, <em>parameters=None</em>, <em>database=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/postgres_operator.html#PostgresOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.PostgresOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Executes sql code in a specific Postgres database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>postgres_conn_id</strong> (<em>string</em>) – reference to a specific postgres database</li>
<li><strong>sql</strong> (<em>Can receive a str representing a sql statement</em><em>,
</em><em>a list of str</em><em> (</em><em>sql statements</em><em>)</em><em>, or </em><em>reference to a template file.
Template reference are recognized by str ending in '.sql'</em>) – the sql code to be executed</li>
<li><strong>database</strong> (<em>string</em>) – name of database which overwrite defined one in connection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.PrestoCheckOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">PrestoCheckOperator</code><span class="sig-paren">(</span><em>sql</em>, <em>presto_conn_id='presto_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_check_operator.html#PrestoCheckOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.PrestoCheckOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.operators.check_operator.CheckOperator</span></code></p>
<p>Performs checks against Presto. The <code class="docutils literal"><span class="pre">PrestoCheckOperator</span></code> expects
a sql query that will return a single row. Each value on that
first row is evaluated using python <code class="docutils literal"><span class="pre">bool</span></code> casting. If any of the
values return <code class="docutils literal"><span class="pre">False</span></code> the check is failed and errors out.</p>
<p>Note that Python bool casting evals the following as <code class="docutils literal"><span class="pre">False</span></code>:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">False</span></code></li>
<li><code class="docutils literal"><span class="pre">0</span></code></li>
<li>Empty string (<code class="docutils literal"><span class="pre">&quot;&quot;</span></code>)</li>
<li>Empty list (<code class="docutils literal"><span class="pre">[]</span></code>)</li>
<li>Empty dictionary or set (<code class="docutils literal"><span class="pre">{}</span></code>)</li>
</ul>
<p>Given a query like <code class="docutils literal"><span class="pre">SELECT</span> <span class="pre">COUNT(*)</span> <span class="pre">FROM</span> <span class="pre">foo</span></code>, it will fail only if
the count <code class="docutils literal"><span class="pre">==</span> <span class="pre">0</span></code>. You can craft much more complex query that could,
for instance, check that the table has the same number of rows as
the source table upstream, or that the count of today’s partition is
greater than yesterday’s partition, or that a set of metrics are less
than 3 standard deviation for the 7 day average.</p>
<p>This operator can be used as a data quality check in your pipeline, and
depending on where you put it in your DAG, you have the choice to
stop the critical path, preventing from
publishing dubious data, or on the side and receive email alterts
without stopping the progress of the DAG.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>string</em>) – the sql to be executed</li>
<li><strong>presto_conn_id</strong> (<em>string</em>) – reference to the Presto database</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.PrestoIntervalCheckOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">PrestoIntervalCheckOperator</code><span class="sig-paren">(</span><em>table</em>, <em>metrics_thresholds</em>, <em>date_filter_column='ds'</em>, <em>days_back=-7</em>, <em>presto_conn_id='presto_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_check_operator.html#PrestoIntervalCheckOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.PrestoIntervalCheckOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.operators.check_operator.IntervalCheckOperator</span></code></p>
<p>Checks that the values of metrics given as SQL expressions are within
a certain tolerance of the ones from days_back before.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>str</em>) – the table name</li>
<li><strong>days_back</strong> (<em>int</em>) – number of days between ds and the ds we want to check
against. Defaults to 7 days</li>
<li><strong>metrics_threshold</strong> (<em>dict</em>) – a dictionary of ratios indexed by metrics</li>
<li><strong>presto_conn_id</strong> (<em>string</em>) – reference to the Presto database</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.PrestoValueCheckOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">PrestoValueCheckOperator</code><span class="sig-paren">(</span><em>sql</em>, <em>pass_value</em>, <em>tolerance=None</em>, <em>presto_conn_id='presto_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_check_operator.html#PrestoValueCheckOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.PrestoValueCheckOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.operators.check_operator.ValueCheckOperator</span></code></p>
<p>Performs a simple value check using sql code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>string</em>) – the sql to be executed</li>
<li><strong>presto_conn_id</strong> (<em>string</em>) – reference to the Presto database</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.PythonOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">PythonOperator</code><span class="sig-paren">(</span><em>python_callable</em>, <em>op_args=None</em>, <em>op_kwargs=None</em>, <em>provide_context=False</em>, <em>templates_dict=None</em>, <em>templates_exts=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/python_operator.html#PythonOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.PythonOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Executes a Python callable</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>python_callable</strong> (<em>python callable</em>) – A reference to an object that is callable</li>
<li><strong>op_kwargs</strong> (<em>dict</em>) – a dictionary of keyword arguments that will get unpacked
in your function</li>
<li><strong>op_args</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – a list of positional arguments that will get unpacked when
calling your callable</li>
<li><strong>provide_context</strong> (<em>bool</em>) – if set to true, Airflow will pass a set of
keyword arguments that can be used in your function. This set of
kwargs correspond exactly to what you can use in your jinja
templates. For this to work, you need to define <cite>**kwargs</cite> in your
function header.</li>
<li><strong>templates_dict</strong> (<em>dict of str</em>) – a dictionary where the values are templates that
will get templated by the Airflow engine sometime between
<code class="docutils literal"><span class="pre">__init__</span></code> and <code class="docutils literal"><span class="pre">execute</span></code> takes place and are made available
in your callable’s context after the template has been applied</li>
<li><strong>templates_exts</strong> – a list of file extensions to resolve while
processing templated fields, for examples <code class="docutils literal"><span class="pre">['.sql',</span> <span class="pre">'.hql']</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.S3KeySensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">S3KeySensor</code><span class="sig-paren">(</span><em>bucket_key</em>, <em>bucket_name=None</em>, <em>wildcard_match=False</em>, <em>aws_conn_id='aws_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#S3KeySensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.S3KeySensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a key (a file-like instance on S3) to be present in a S3 bucket.
S3 being a key/value it does not support folders. The path is just a key
a resource.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket_key</strong> (<em>str</em>) – The key being waited on. Supports full s3:// style url
or relative path from root level.</li>
<li><strong>bucket_name</strong> (<em>str</em>) – Name of the S3 bucket</li>
<li><strong>wildcard_match</strong> (<em>bool</em>) – whether the bucket_key should be interpreted as a
Unix wildcard pattern</li>
<li><strong>aws_conn_id</strong> (<em>str</em>) – a reference to the s3 connection</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.S3ToHiveTransfer">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">S3ToHiveTransfer</code><span class="sig-paren">(</span><em>s3_key</em>, <em>field_dict</em>, <em>hive_table</em>, <em>delimiter='</em>, <em>'</em>, <em>create=True</em>, <em>recreate=False</em>, <em>partition=None</em>, <em>headers=False</em>, <em>check_headers=False</em>, <em>wildcard_match=False</em>, <em>aws_conn_id='aws_default'</em>, <em>hive_cli_conn_id='hive_cli_default'</em>, <em>input_compressed=False</em>, <em>tblproperties=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/s3_to_hive_operator.html#S3ToHiveTransfer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.S3ToHiveTransfer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Moves data from S3 to Hive. The operator downloads a file from S3,
stores the file locally before loading it into a Hive table.
If the <code class="docutils literal"><span class="pre">create</span></code> or <code class="docutils literal"><span class="pre">recreate</span></code> arguments are set to <code class="docutils literal"><span class="pre">True</span></code>,
a <code class="docutils literal"><span class="pre">CREATE</span> <span class="pre">TABLE</span></code> and <code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code> statements are generated.
Hive data types are inferred from the cursor’s metadata from.</p>
<p>Note that the table generated in Hive uses <code class="docutils literal"><span class="pre">STORED</span> <span class="pre">AS</span> <span class="pre">textfile</span></code>
which isn’t the most efficient serialization format. If a
large amount of data is loaded and/or if the tables gets
queried considerably, you may want to use this operator only to
stage the data into a temporary table before loading it into its
final destination using a <code class="docutils literal"><span class="pre">HiveOperator</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>s3_key</strong> (<em>str</em>) – The key to be retrieved from S3</li>
<li><strong>field_dict</strong> (<em>dict</em>) – A dictionary of the fields name in the file
as keys and their Hive types as values</li>
<li><strong>hive_table</strong> (<em>str</em>) – target Hive table, use dot notation to target a
specific database</li>
<li><strong>create</strong> (<em>bool</em>) – whether to create the table if it doesn’t exist</li>
<li><strong>recreate</strong> (<em>bool</em>) – whether to drop and recreate the table at every
execution</li>
<li><strong>partition</strong> (<em>dict</em>) – target partition as a dict of partition columns
and values</li>
<li><strong>headers</strong> (<em>bool</em>) – whether the file contains column names on the first
line</li>
<li><strong>check_headers</strong> (<em>bool</em>) – whether the column names on the first line should be
checked against the keys of field_dict</li>
<li><strong>wildcard_match</strong> (<em>bool</em>) – whether the s3_key should be interpreted as a Unix
wildcard pattern</li>
<li><strong>delimiter</strong> (<em>str</em>) – field delimiter in the file</li>
<li><strong>aws_conn_id</strong> (<em>str</em>) – source s3 connection</li>
<li><strong>hive_cli_conn_id</strong> (<em>str</em>) – destination hive connection</li>
<li><strong>input_compressed</strong> (<em>bool</em>) – Boolean to determine if file decompression is
required to process headers</li>
<li><strong>tblproperties</strong> (<em>dict</em>) – TBLPROPERTIES of the hive table being created</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.ShortCircuitOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">ShortCircuitOperator</code><span class="sig-paren">(</span><em>python_callable</em>, <em>op_args=None</em>, <em>op_kwargs=None</em>, <em>provide_context=False</em>, <em>templates_dict=None</em>, <em>templates_exts=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/python_operator.html#ShortCircuitOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.ShortCircuitOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">python_operator.PythonOperator</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.models.SkipMixin</span></code></p>
<p>Allows a workflow to continue only if a condition is met. Otherwise, the
workflow “short-circuits” and downstream tasks are skipped.</p>
<p>The ShortCircuitOperator is derived from the PythonOperator. It evaluates a
condition and short-circuits the workflow if the condition is False. Any
downstream tasks are marked with a state of “skipped”. If the condition is
True, downstream tasks proceed as normal.</p>
<p>The condition is determined by the result of <cite>python_callable</cite>.</p>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.SlackAPIOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">SlackAPIOperator</code><span class="sig-paren">(</span><em>token='unset'</em>, <em>method='unset'</em>, <em>api_params=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/slack_operator.html#SlackAPIOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SlackAPIOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.models.BaseOperator" title="airflow.models.BaseOperator"><code class="xref py py-class docutils literal"><span class="pre">airflow.models.BaseOperator</span></code></a></p>
<p>Base Slack Operator
The SlackAPIPostOperator is derived from this operator.
In the future additional Slack API Operators will be derived from this class as well</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>token</strong> (<em>string</em>) – Slack API token (<a class="reference external" href="https://api.slack.com/web">https://api.slack.com/web</a>)</li>
<li><strong>method</strong> (<em>string</em>) – The Slack API Method to Call (<a class="reference external" href="https://api.slack.com/methods">https://api.slack.com/methods</a>)</li>
<li><strong>api_params</strong> (<em>dict</em>) – API Method call parameters (<a class="reference external" href="https://api.slack.com/methods">https://api.slack.com/methods</a>)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.operators.SlackAPIOperator.construct_api_call_params">
<code class="descname">construct_api_call_params</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/slack_operator.html#SlackAPIOperator.construct_api_call_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SlackAPIOperator.construct_api_call_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Used by the execute function. Allows templating on the source fields of the api_call_params dict before construction</p>
<p>Override in child classes.
Each SlackAPIOperator child class is responsible for having a construct_api_call_params function
which sets self.api_call_params with a dict of API call parameters (<a class="reference external" href="https://api.slack.com/methods">https://api.slack.com/methods</a>)</p>
</dd></dl>

<dl class="method">
<dt id="airflow.operators.SlackAPIOperator.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/slack_operator.html#SlackAPIOperator.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SlackAPIOperator.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>SlackAPIOperator calls will not fail even if the call is not unsuccessful.
It should not prevent a DAG from completing in success</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.operators.SlackAPIPostOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">SlackAPIPostOperator</code><span class="sig-paren">(</span><em>channel='#general'</em>, <em>username='Airflow'</em>, <em>text='No message has been set.nHere is a cat video insteadnhttps://www.youtube.com/watch?v=J---aiyznGQ'</em>, <em>icon_url='https://raw.githubusercontent.com/airbnb/airflow/master/airflow/www/static/pin_100.png'</em>, <em>attachments=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/slack_operator.html#SlackAPIPostOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SlackAPIPostOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">slack_operator.SlackAPIOperator</span></code></p>
<p>Posts messages to a slack channel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>channel</strong> (<em>string</em>) – channel in which to post message on slack name (#general) or ID (C12318391)</li>
<li><strong>username</strong> (<em>string</em>) – Username that airflow will be posting to Slack as</li>
<li><strong>text</strong> (<em>string</em>) – message to send to slack</li>
<li><strong>icon_url</strong> (<em>string</em>) – url to icon used for this message</li>
<li><strong>attachments</strong> (<em>array of hashes</em>) – extra formatting details - see <a class="reference external" href="https://api.slack.com/docs/attachments">https://api.slack.com/docs/attachments</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.SqlSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">SqlSensor</code><span class="sig-paren">(</span><em>conn_id</em>, <em>sql</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#SqlSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.SqlSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Runs a sql statement until a criteria is met. It will keep trying while
sql returns no row, or if the first cell in (0, ‘0’, ‘’).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>conn_id</strong> (<em>string</em>) – The connection to run the sensor against</li>
<li><strong>sql</strong> – The sql to run. To pass, it needs to return at least one cell
that contains a non-zero / empty string value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.TimeSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">TimeSensor</code><span class="sig-paren">(</span><em>target_time</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#TimeSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.TimeSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits until the specified time of the day.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>target_time</strong> (<em>datetime.time</em>) – time after which the job succeeds</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.WebHdfsSensor">
<em class="property">class </em><code class="descclassname">airflow.operators.</code><code class="descname">WebHdfsSensor</code><span class="sig-paren">(</span><em>filepath</em>, <em>webhdfs_conn_id='webhdfs_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sensors.html#WebHdfsSensor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.WebHdfsSensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#airflow.operators.sensors.BaseSensorOperator" title="airflow.operators.sensors.BaseSensorOperator"><code class="xref py py-class docutils literal"><span class="pre">sensors.BaseSensorOperator</span></code></a></p>
<p>Waits for a file or folder to land in HDFS</p>
</dd></dl>

<dl class="class">
<dt id="airflow.operators.docker_operator.DockerOperator">
<em class="property">class </em><code class="descclassname">airflow.operators.docker_operator.</code><code class="descname">DockerOperator</code><span class="sig-paren">(</span><em>image</em>, <em>api_version=None</em>, <em>command=None</em>, <em>cpus=1.0</em>, <em>docker_url='unix://var/run/docker.sock'</em>, <em>environment=None</em>, <em>force_pull=False</em>, <em>mem_limit=None</em>, <em>network_mode=None</em>, <em>tls_ca_cert=None</em>, <em>tls_client_cert=None</em>, <em>tls_client_key=None</em>, <em>tls_hostname=None</em>, <em>tls_ssl_version=None</em>, <em>tmp_dir='/tmp/airflow'</em>, <em>user=None</em>, <em>volumes=None</em>, <em>working_dir=None</em>, <em>xcom_push=False</em>, <em>xcom_all=False</em>, <em>docker_conn_id=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/operators/docker_operator.html#DockerOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.operators.docker_operator.DockerOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a command inside a docker container.</p>
<p>A temporary directory is created on the host and mounted into a container to allow storing files
that together exceed the default disk size of 10GB in a container. The path to the mounted
directory can be accessed via the environment variable <code class="docutils literal"><span class="pre">AIRFLOW_TMP_DIR</span></code>.</p>
<p>If a login to a private registry is required prior to pulling the image, a
Docker connection needs to be configured in Airflow and the connection ID
be provided with the parameter <code class="docutils literal"><span class="pre">docker_conn_id</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>image</strong> (<em>str</em>) – Docker image from which to create the container.</li>
<li><strong>api_version</strong> (<em>str</em>) – Remote API version. Set to <code class="docutils literal"><span class="pre">auto</span></code> to automatically
detect the server’s version.</li>
<li><strong>command</strong> (<em>str</em><em> or </em><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – Command to be run in the container.</li>
<li><strong>cpus</strong> (<em>float</em>) – Number of CPUs to assign to the container.
This value gets multiplied with 1024. See
<a class="reference external" href="https://docs.docker.com/engine/reference/run/#cpu-share-constraint">https://docs.docker.com/engine/reference/run/#cpu-share-constraint</a></li>
<li><strong>docker_url</strong> (<em>str</em>) – URL of the host running the docker daemon.
Default is unix://var/run/docker.sock</li>
<li><strong>environment</strong> (<em>dict</em>) – Environment variables to set in the container.</li>
<li><strong>force_pull</strong> (<em>bool</em>) – Pull the docker image on every run. Default is false.</li>
<li><strong>mem_limit</strong> (<em>float</em><em> or </em><em>str</em>) – Maximum amount of memory the container can use. Either a float value, which
represents the limit in bytes, or a string like <code class="docutils literal"><span class="pre">128m</span></code> or <code class="docutils literal"><span class="pre">1g</span></code>.</li>
<li><strong>network_mode</strong> (<em>str</em>) – Network mode for the container.</li>
<li><strong>tls_ca_cert</strong> (<em>str</em>) – Path to a PEM-encoded certificate authority to secure the docker connection.</li>
<li><strong>tls_client_cert</strong> (<em>str</em>) – Path to the PEM-encoded certificate used to authenticate docker client.</li>
<li><strong>tls_client_key</strong> (<em>str</em>) – Path to the PEM-encoded key used to authenticate docker client.</li>
<li><strong>tls_hostname</strong> (<em>str</em><em> or </em><em>bool</em>) – Hostname to match against the docker server certificate or False to
disable the check.</li>
<li><strong>tls_ssl_version</strong> (<em>str</em>) – Version of SSL to use when communicating with docker daemon.</li>
<li><strong>tmp_dir</strong> (<em>str</em>) – Mount point inside the container to a temporary directory created on the host by
the operator. The path is also made available via the environment variable
<code class="docutils literal"><span class="pre">AIRFLOW_TMP_DIR</span></code> inside the container.</li>
<li><strong>user</strong> (<em>int</em><em> or </em><em>str</em>) – Default user inside the docker container.</li>
<li><strong>volumes</strong> – List of volumes to mount into the container, e.g.
<code class="docutils literal"><span class="pre">['/host/path:/container/path',</span> <span class="pre">'/host/path2:/container/path2:ro']</span></code>.</li>
<li><strong>working_dir</strong> (<em>str</em>) – Working directory to set on the container (equivalent to the -w switch
the docker client)</li>
<li><strong>xcom_push</strong> (<em>bool</em>) – Does the stdout will be pushed to the next step using XCom.
The default is False.</li>
<li><strong>xcom_all</strong> (<em>bool</em>) – Push all the stdout or just the last line. The default is False (last line).</li>
<li><strong>docker_conn_id</strong> (<em>str</em>) – ID of the Airflow connection to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="community-contributed-operators">
<h3>Community-contributed Operators<a class="headerlink" href="#community-contributed-operators" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-airflow.contrib.operators"></span><p>Importer that dynamically loads a class and module from its parent. This
allows Airflow to support <code class="docutils literal"><span class="pre">from</span> <span class="pre">airflow.operators</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code>
even though BashOperator is actually in
<code class="docutils literal"><span class="pre">airflow.operators.bash_operator</span></code>.</p>
<p>The importer also takes over for the parent_module by wrapping it. This is
required to support attribute-based usage:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">airflow</span> <span class="k">import</span> <span class="n">operators</span>
<span class="n">operators</span><span class="o">.</span><span class="n">BashOperator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="airflow.contrib.operators.bigquery_operator.BigQueryOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.bigquery_operator.</code><code class="descname">BigQueryOperator</code><span class="sig-paren">(</span><em>bql</em>, <em>destination_dataset_table=False</em>, <em>write_disposition='WRITE_EMPTY'</em>, <em>allow_large_results=False</em>, <em>bigquery_conn_id='bigquery_default'</em>, <em>delegate_to=None</em>, <em>udf_config=False</em>, <em>use_legacy_sql=True</em>, <em>maximum_billing_tier=None</em>, <em>create_disposition='CREATE_IF_NEEDED'</em>, <em>query_params=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/bigquery_operator.html#BigQueryOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.bigquery_operator.BigQueryOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes BigQuery SQL queries in a specific BigQuery database</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bql</strong> (<em>Can receive a str representing a sql statement</em><em>,
</em><em>a list of str</em><em> (</em><em>sql statements</em><em>)</em><em>, or </em><em>reference to a template file.
Template reference are recognized by str ending in '.sql'</em>) – the sql code to be executed</li>
<li><strong>destination_dataset_table</strong> (<em>string</em>) – A dotted
(&lt;project&gt;.|&lt;project&gt;:)&lt;dataset&gt;.&lt;table&gt; that, if set, will store the results
of the query.</li>
<li><strong>write_disposition</strong> (<em>string</em>) – Specifies the action that occurs if the destination table
already exists. (default: ‘WRITE_EMPTY’)</li>
<li><strong>create_disposition</strong> (<em>string</em>) – Specifies whether the job is allowed to create new tables.
(default: ‘CREATE_IF_NEEDED’)</li>
<li><strong>bigquery_conn_id</strong> (<em>string</em>) – reference to a specific BigQuery hook.</li>
<li><strong>delegate_to</strong> (<em>string</em>) – The account to impersonate, if any.
For this to work, the service account making the request must have domain-wide
delegation enabled.</li>
<li><strong>udf_config</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – The User Defined Function configuration for the query.
See <a class="reference external" href="https://cloud.google.com/bigquery/user-defined-functions">https://cloud.google.com/bigquery/user-defined-functions</a> for details.</li>
<li><strong>use_legacy_sql</strong> (<em>boolean</em>) – Whether to use legacy SQL (true) or standard SQL (false).</li>
<li><strong>maximum_billing_tier</strong> (<em>integer</em>) – Positive integer that serves as a multiplier of the basic price.
Defaults to None, in which case it uses the value set in the project.</li>
<li><strong>query_params</strong> (<em>dict</em>) – a dictionary containing query parameter types and values, passed to
BigQuery.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.bigquery_to_gcs.</code><code class="descname">BigQueryToCloudStorageOperator</code><span class="sig-paren">(</span><em>source_project_dataset_table</em>, <em>destination_cloud_storage_uris</em>, <em>compression='NONE'</em>, <em>export_format='CSV'</em>, <em>field_delimiter='</em>, <em>'</em>, <em>print_header=True</em>, <em>bigquery_conn_id='bigquery_default'</em>, <em>delegate_to=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/bigquery_to_gcs.html#BigQueryToCloudStorageOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.bigquery_to_gcs.BigQueryToCloudStorageOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers a BigQuery table to a Google Cloud Storage bucket.</p>
<p>See here:</p>
<p><a class="reference external" href="https://cloud.google.com/bigquery/docs/reference/v2/jobs">https://cloud.google.com/bigquery/docs/reference/v2/jobs</a></p>
<p>For more details about these parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source_project_dataset_table</strong> (<em>string</em>) – The dotted
(&lt;project&gt;.|&lt;project&gt;:)&lt;dataset&gt;.&lt;table&gt; BigQuery table to use as the source
data. If &lt;project&gt; is not included, project will be the project defined in
the connection json.</li>
<li><strong>destination_cloud_storage_uris</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – The destination Google Cloud
Storage URI (e.g. gs://some-bucket/some-file.txt). Follows
convention defined here:
https://cloud.google.com/bigquery/exporting-data-from-bigquery#exportingmultiple</li>
<li><strong>compression</strong> (<em>string</em>) – Type of compression to use.</li>
<li><strong>export_format</strong> – File format to export.</li>
<li><strong>field_delimiter</strong> (<em>string</em>) – The delimiter to use when extracting to a CSV.</li>
<li><strong>print_header</strong> (<em>boolean</em>) – Whether to print a header for a CSV file extract.</li>
<li><strong>bigquery_conn_id</strong> (<em>string</em>) – reference to a specific BigQuery hook.</li>
<li><strong>delegate_to</strong> (<em>string</em>) – The account to impersonate, if any.
For this to work, the service account making the request must have domain-wide
delegation enabled.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.databricks_operator.DatabricksSubmitRunOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.databricks_operator.</code><code class="descname">DatabricksSubmitRunOperator</code><span class="sig-paren">(</span><em>json=None</em>, <em>spark_jar_task=None</em>, <em>notebook_task=None</em>, <em>new_cluster=None</em>, <em>existing_cluster_id=None</em>, <em>libraries=None</em>, <em>run_name=None</em>, <em>timeout_seconds=None</em>, <em>databricks_conn_id='databricks_default'</em>, <em>polling_period_seconds=30</em>, <em>databricks_retry_limit=3</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/databricks_operator.html#DatabricksSubmitRunOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.databricks_operator.DatabricksSubmitRunOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Submits an Spark job run to Databricks using the
<a class="reference external" href="https://docs.databricks.com/api/latest/jobs.html#runs-submit">api/2.0/jobs/runs/submit</a>
API endpoint.</p>
<p>There are two ways to instantiate this operator.</p>
<p>In the first way, you can take the JSON payload that you typically use
to call the <code class="docutils literal"><span class="pre">api/2.0/jobs/runs/submit</span></code> endpoint and pass it directly
to our <code class="docutils literal"><span class="pre">DatabricksSubmitRunOperator</span></code> through the <code class="docutils literal"><span class="pre">json</span></code> parameter.
For example</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">json</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;new_cluster&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;spark_version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.1.0-db3-scala2.11&#39;</span><span class="p">,</span>
    <span class="s1">&#39;num_workers&#39;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="s1">&#39;notebook_task&#39;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;notebook_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/Users/airflow@example.com/PrepareData&#39;</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">}</span>
<span class="n">notebook_run</span> <span class="o">=</span> <span class="n">DatabricksSubmitRunOperator</span><span class="p">(</span><span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;notebook_run&#39;</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="n">json</span><span class="p">)</span>
</pre></div>
</div>
<p>Another way to accomplish the same thing is to use the named parameters
of the <code class="docutils literal"><span class="pre">DatabricksSubmitRunOperator</span></code> directly. Note that there is exactly
one named parameter for each top level parameter in the <code class="docutils literal"><span class="pre">runs/submit</span></code>
endpoint. In this method, your code would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">new_cluster</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;spark_version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.1.0-db3-scala2.11&#39;</span><span class="p">,</span>
  <span class="s1">&#39;num_workers&#39;</span><span class="p">:</span> <span class="mi">2</span>
<span class="p">}</span>
<span class="n">notebook_task</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;notebook_path&#39;</span><span class="p">:</span> <span class="s1">&#39;/Users/airflow@example.com/PrepareData&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">notebook_run</span> <span class="o">=</span> <span class="n">DatabricksSubmitRunOperator</span><span class="p">(</span>
    <span class="n">task_id</span><span class="o">=</span><span class="s1">&#39;notebook_run&#39;</span><span class="p">,</span>
    <span class="n">new_cluster</span><span class="o">=</span><span class="n">new_cluster</span><span class="p">,</span>
    <span class="n">notebook_task</span><span class="o">=</span><span class="n">notebook_task</span><span class="p">)</span>
</pre></div>
</div>
<p>In the case where both the json parameter <strong>AND</strong> the named parameters
are provided, they will be merged together. If there are conflicts during the merge,
the named parameters will take precedence and override the top level <code class="docutils literal"><span class="pre">json</span></code> keys.</p>
<dl class="docutils">
<dt>Currently the named parameters that <code class="docutils literal"><span class="pre">DatabricksSubmitRunOperator</span></code> supports are</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">spark_jar_task</span></code></li>
<li><code class="docutils literal"><span class="pre">notebook_task</span></code></li>
<li><code class="docutils literal"><span class="pre">new_cluster</span></code></li>
<li><code class="docutils literal"><span class="pre">existing_cluster_id</span></code></li>
<li><code class="docutils literal"><span class="pre">libraries</span></code></li>
<li><code class="docutils literal"><span class="pre">run_name</span></code></li>
<li><code class="docutils literal"><span class="pre">timeout_seconds</span></code></li>
</ul>
</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>json</strong> (<em>dict</em>) – <p>A JSON object containing API parameters which will be passed
directly to the <code class="docutils literal"><span class="pre">api/2.0/jobs/runs/submit</span></code> endpoint. The other named parameters
(i.e. <code class="docutils literal"><span class="pre">spark_jar_task</span></code>, <code class="docutils literal"><span class="pre">notebook_task</span></code>..) to this operator will
be merged with this json dictionary if they are provided.
If there are conflicts during the merge, the named parameters will
take precedence and override the top level json keys. This field will be
templated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For more information about templating see <a class="reference internal" href="concepts.html#jinja-templating"><span class="std std-ref">Jinja Templating</span></a>.
<a class="reference external" href="https://docs.databricks.com/api/latest/jobs.html#runs-submit">https://docs.databricks.com/api/latest/jobs.html#runs-submit</a></p>
</div>
</li>
<li><strong>spark_jar_task</strong> (<em>dict</em>) – <p>The main class and parameters for the JAR task. Note that
the actual JAR is specified in the <code class="docutils literal"><span class="pre">libraries</span></code>.
<em>EITHER</em> <code class="docutils literal"><span class="pre">spark_jar_task</span></code> <em>OR</em> <code class="docutils literal"><span class="pre">notebook_task</span></code> should be specified.
This field will be templated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.databricks.com/api/latest/jobs.html#jobssparkjartask">https://docs.databricks.com/api/latest/jobs.html#jobssparkjartask</a></p>
</div>
</li>
<li><strong>notebook_task</strong> (<em>dict</em>) – <p>The notebook path and parameters for the notebook task.
<em>EITHER</em> <code class="docutils literal"><span class="pre">spark_jar_task</span></code> <em>OR</em> <code class="docutils literal"><span class="pre">notebook_task</span></code> should be specified.
This field will be templated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.databricks.com/api/latest/jobs.html#jobsnotebooktask">https://docs.databricks.com/api/latest/jobs.html#jobsnotebooktask</a></p>
</div>
</li>
<li><strong>new_cluster</strong> (<em>dict</em>) – <p>Specs for a new cluster on which this task will be run.
<em>EITHER</em> <code class="docutils literal"><span class="pre">new_cluster</span></code> <em>OR</em> <code class="docutils literal"><span class="pre">existing_cluster_id</span></code> should be specified.
This field will be templated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.databricks.com/api/latest/jobs.html#jobsclusterspecnewcluster">https://docs.databricks.com/api/latest/jobs.html#jobsclusterspecnewcluster</a></p>
</div>
</li>
<li><strong>existing_cluster_id</strong> (<em>string</em>) – ID for existing cluster on which to run this task.
<em>EITHER</em> <code class="docutils literal"><span class="pre">new_cluster</span></code> <em>OR</em> <code class="docutils literal"><span class="pre">existing_cluster_id</span></code> should be specified.
This field will be templated.</li>
<li><strong>libraries</strong> (<em>list of dicts</em>) – <p>Libraries which this run will use.
This field will be templated.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="https://docs.databricks.com/api/latest/libraries.html#managedlibrarieslibrary">https://docs.databricks.com/api/latest/libraries.html#managedlibrarieslibrary</a></p>
</div>
</li>
<li><strong>run_name</strong> (<em>string</em>) – The run name used for this task.
By default this will be set to the Airflow <code class="docutils literal"><span class="pre">task_id</span></code>. This <code class="docutils literal"><span class="pre">task_id</span></code> is a
required parameter of the superclass <code class="docutils literal"><span class="pre">BaseOperator</span></code>.
This field will be templated.</li>
<li><strong>timeout_seconds</strong> (<em>int32</em>) – The timeout for this run. By default a value of 0 is used
which means to have no timeout.
This field will be templated.</li>
<li><strong>databricks_conn_id</strong> (<em>string</em>) – The name of the Airflow connection to use.
By default and in the common case this will be <code class="docutils literal"><span class="pre">databricks_default</span></code>. To use
token based authentication, provide the key <code class="docutils literal"><span class="pre">token</span></code> in the extra field for the
connection.</li>
<li><strong>polling_period_seconds</strong> (<em>int</em>) – Controls the rate which we poll for the result of
this run. By default the operator will poll every 30 seconds.</li>
<li><strong>databricks_retry_limit</strong> (<em>int</em>) – Amount of times retry if the Databricks backend is
unreachable. Its value must be greater than or equal to 1.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.ecs_operator.ECSOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.ecs_operator.</code><code class="descname">ECSOperator</code><span class="sig-paren">(</span><em>task_definition</em>, <em>cluster</em>, <em>overrides</em>, <em>aws_conn_id=None</em>, <em>region_name=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/ecs_operator.html#ECSOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.ecs_operator.ECSOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a task on AWS EC2 Container Service</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>task_definition</strong> (<em>str</em>) – the task definition name on EC2 Container Service</li>
<li><strong>cluster</strong> (<em>str</em>) – the cluster name on EC2 Container Service</li>
<li><strong>aws_conn_id</strong> (<em>str</em>) – connection id of AWS credentials / region name. If None,
credential boto3 strategy will be used (<a class="reference external" href="http://boto3.readthedocs.io/en/latest/guide/configuration.html">http://boto3.readthedocs.io/en/latest/guide/configuration.html</a>).</li>
<li><strong>region_name</strong> – region name to use in AWS Hook. Override the region_name in connection (if provided)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Param:</th><td class="field-body"><p class="first">overrides: the same parameter that boto3 will receive:
<a class="reference external" href="http://boto3.readthedocs.org/en/latest/reference/services/ecs.html#ECS.Client.run_task">http://boto3.readthedocs.org/en/latest/reference/services/ecs.html#ECS.Client.run_task</a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><p class="first last">overrides: dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.file_to_wasb.FileToWasbOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.file_to_wasb.</code><code class="descname">FileToWasbOperator</code><span class="sig-paren">(</span><em>file_path</em>, <em>container_name</em>, <em>blob_name</em>, <em>wasb_conn_id='wasb_default'</em>, <em>load_options=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/file_to_wasb.html#FileToWasbOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.file_to_wasb.FileToWasbOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a file to Azure Blob Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_path</strong> (<em>str</em>) – Path to the file to load.</li>
<li><strong>container_name</strong> (<em>str</em>) – Name of the container.</li>
<li><strong>blob_name</strong> (<em>str</em>) – Name of the blob.</li>
<li><strong>wasb_conn_id</strong> (<em>str</em>) – Reference to the wasb connection.</li>
<li><strong>load_options</strong> (<em>dict</em>) – Optional keyword arguments that
<cite>WasbHook.load_file()</cite> takes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.gcs_download_operator.GoogleCloudStorageDownloadOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.gcs_download_operator.</code><code class="descname">GoogleCloudStorageDownloadOperator</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em>, <em>filename=False</em>, <em>store_to_xcom_key=False</em>, <em>google_cloud_storage_conn_id='google_cloud_storage_default'</em>, <em>delegate_to=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/gcs_download_operator.html#GoogleCloudStorageDownloadOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.gcs_download_operator.GoogleCloudStorageDownloadOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Downloads a file from Google Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The Google cloud storage bucket where the object is.</li>
<li><strong>object</strong> (<em>string</em>) – The name of the object to download in the Google cloud
storage bucket.</li>
<li><strong>filename</strong> (<em>string</em>) – The file path on the local file system (where the
operator is being executed) that the file should be downloaded to.
If false, the downloaded data will not be stored on the local file
system.</li>
<li><strong>store_to_xcom_key</strong> (<em>string</em>) – If this param is set, the operator will push
the contents of the downloaded file to XCom with the key set in this
parameter. If false, the downloaded data will not be pushed to XCom.</li>
<li><strong>google_cloud_storage_conn_id</strong> (<em>string</em>) – The connection ID to use when
connecting to Google cloud storage.</li>
<li><strong>delegate_to</strong> (<em>string</em>) – The account to impersonate, if any.
For this to work, the service account making the request must have domain-wide delegation enabled.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.QuboleOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.</code><code class="descname">QuboleOperator</code><span class="sig-paren">(</span><em>qubole_conn_id='qubole_default'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/qubole_operator.html#QuboleOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.QuboleOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute tasks (commands) on QDS (<a class="reference external" href="https://qubole.com">https://qubole.com</a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>qubole_conn_id</strong> (<em>str</em>) – Connection id which consists of qds auth_token</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>kwargs:</dt>
<dd><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">command_type:</th><td class="field-body">type of command to be executed, e.g. hivecmd, shellcmd, hadoopcmd</td>
</tr>
<tr class="field-even field"><th class="field-name">tags:</th><td class="field-body">array of tags to be assigned with the command</td>
</tr>
<tr class="field-odd field"><th class="field-name">cluster_label:</th><td class="field-body">cluster label on which the command will be executed</td>
</tr>
<tr class="field-even field"><th class="field-name">name:</th><td class="field-body">name to be given to command</td>
</tr>
<tr class="field-odd field"><th class="field-name">notify:</th><td class="field-body">whether to send email on command completion or not (default is False)</td>
</tr>
</tbody>
</table>
<p><strong>Arguments specific to command types</strong></p>
<dl class="last docutils">
<dt>hivecmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">query:</th><td class="field-body">inline query statement</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">script_location:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">s3 location containing query statement</td>
</tr>
<tr class="field-odd field"><th class="field-name">sample_size:</th><td class="field-body">size of sample in bytes on which to run query</td>
</tr>
<tr class="field-even field"><th class="field-name">macros:</th><td class="field-body">macro values which were used in query</td>
</tr>
</tbody>
</table>
</dd>
<dt>prestocmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">query:</th><td class="field-body">inline query statement</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">script_location:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">s3 location containing query statement</td>
</tr>
<tr class="field-odd field"><th class="field-name">macros:</th><td class="field-body">macro values which were used in query</td>
</tr>
</tbody>
</table>
</dd>
<dt>hadoopcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">sub_commnad:</th><td class="field-body">must be one these [“jar”, “s3distcp”, “streaming”] followed by
1 or more args</td>
</tr>
</tbody>
</table>
</dd>
<dt>shellcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">script:</th><td class="field-body">inline command with args</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">script_location:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">s3 location containing query statement</td>
</tr>
<tr class="field-odd field"><th class="field-name">files:</th><td class="field-body">list of files in s3 bucket as file1,file2 format. These files will be
copied into the working directory where the qubole command is being
executed.</td>
</tr>
<tr class="field-even field"><th class="field-name">archives:</th><td class="field-body">list of archives in s3 bucket as archive1,archive2 format. These
will be unarchived intothe working directory where the qubole command is
being executed</td>
</tr>
<tr class="field-odd field"><th class="field-name">parameters:</th><td class="field-body">any extra args which need to be passed to script (only when
script_location is supplied)</td>
</tr>
</tbody>
</table>
</dd>
<dt>pigcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">script:</th><td class="field-body">inline query statement (latin_statements)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">script_location:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">s3 location containing pig query</td>
</tr>
<tr class="field-odd field"><th class="field-name">parameters:</th><td class="field-body">any extra args which need to be passed to script (only when
script_location is supplied</td>
</tr>
</tbody>
</table>
</dd>
<dt>sparkcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">program:</th><td class="field-body">the complete Spark Program in Scala, SQL, Command, R, or Python</td>
</tr>
<tr class="field-even field"><th class="field-name">cmdline:</th><td class="field-body">spark-submit command line, all required information must be specify
in cmdline itself.</td>
</tr>
<tr class="field-odd field"><th class="field-name">sql:</th><td class="field-body">inline sql query</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">script_location:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">s3 location containing query statement</td>
</tr>
<tr class="field-odd field"><th class="field-name">language:</th><td class="field-body">language of the program, Scala, SQL, Command, R, or Python</td>
</tr>
<tr class="field-even field"><th class="field-name">app_id:</th><td class="field-body">ID of an Spark job server app</td>
</tr>
<tr class="field-odd field"><th class="field-name">arguments:</th><td class="field-body">spark-submit command line arguments</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">user_program_arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">arguments that the user program takes in</td>
</tr>
<tr class="field-odd field"><th class="field-name">macros:</th><td class="field-body">macro values which were used in query</td>
</tr>
</tbody>
</table>
</dd>
<dt>dbtapquerycmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">db_tap_id:</th><td class="field-body">data store ID of the target database, in Qubole.</td>
</tr>
<tr class="field-even field"><th class="field-name">query:</th><td class="field-body">inline query statement</td>
</tr>
<tr class="field-odd field"><th class="field-name">macros:</th><td class="field-body">macro values which were used in query</td>
</tr>
</tbody>
</table>
</dd>
<dt>dbexportcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body">1 (simple), 2 (advance)</td>
</tr>
<tr class="field-even field"><th class="field-name">hive_table:</th><td class="field-body">Name of the hive table</td>
</tr>
<tr class="field-odd field"><th class="field-name">partition_spec:</th><td class="field-body">partition specification for Hive table.</td>
</tr>
<tr class="field-even field"><th class="field-name">dbtap_id:</th><td class="field-body">data store ID of the target database, in Qubole.</td>
</tr>
<tr class="field-odd field"><th class="field-name">db_table:</th><td class="field-body">name of the db table</td>
</tr>
<tr class="field-even field"><th class="field-name">db_update_mode:</th><td class="field-body">allowinsert or updateonly</td>
</tr>
<tr class="field-odd field"><th class="field-name">db_update_keys:</th><td class="field-body">columns used to determine the uniqueness of rows</td>
</tr>
<tr class="field-even field"><th class="field-name">export_dir:</th><td class="field-body">HDFS/S3 location from which data will be exported.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">fields_terminated_by:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">hex of the char used as column separator in the dataset</td>
</tr>
</tbody>
</table>
</dd>
<dt>dbimportcmd:</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">mode:</th><td class="field-body">1 (simple), 2 (advance)</td>
</tr>
<tr class="field-even field"><th class="field-name">hive_table:</th><td class="field-body">Name of the hive table</td>
</tr>
<tr class="field-odd field"><th class="field-name">dbtap_id:</th><td class="field-body">data store ID of the target database, in Qubole.</td>
</tr>
<tr class="field-even field"><th class="field-name">db_table:</th><td class="field-body">name of the db table</td>
</tr>
<tr class="field-odd field"><th class="field-name">where_clause:</th><td class="field-body">where clause, if any</td>
</tr>
<tr class="field-even field"><th class="field-name">parallelism:</th><td class="field-body">number of parallel db connections to use for extracting data</td>
</tr>
<tr class="field-odd field"><th class="field-name">extract_query:</th><td class="field-body">SQL query to extract data from db. $CONDITIONS must be part
of the where clause.</td>
</tr>
<tr class="field-even field"><th class="field-name">boundary_query:</th><td class="field-body">Query to be used get range of row IDs to be extracted</td>
</tr>
<tr class="field-odd field"><th class="field-name">split_column:</th><td class="field-body">Column used as row ID to split data into ranges (mode 2)</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Following fields are template-supported : <code class="docutils literal"><span class="pre">query</span></code>, <code class="docutils literal"><span class="pre">script_location</span></code>,
<code class="docutils literal"><span class="pre">sub_command</span></code>, <code class="docutils literal"><span class="pre">script</span></code>, <code class="docutils literal"><span class="pre">files</span></code>, <code class="docutils literal"><span class="pre">archives</span></code>, <code class="docutils literal"><span class="pre">program</span></code>, <code class="docutils literal"><span class="pre">cmdline</span></code>,
<code class="docutils literal"><span class="pre">sql</span></code>, <code class="docutils literal"><span class="pre">where_clause</span></code>, <code class="docutils literal"><span class="pre">extract_query</span></code>, <code class="docutils literal"><span class="pre">boundary_query</span></code>, <code class="docutils literal"><span class="pre">macros</span></code>,
<code class="docutils literal"><span class="pre">tags</span></code>, <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">parameters</span></code>, <code class="docutils literal"><span class="pre">dbtap_id</span></code>, <code class="docutils literal"><span class="pre">hive_table</span></code>, <code class="docutils literal"><span class="pre">db_table</span></code>,
<code class="docutils literal"><span class="pre">split_column</span></code>, <code class="docutils literal"><span class="pre">note_id</span></code>, <code class="docutils literal"><span class="pre">db_update_keys</span></code>, <code class="docutils literal"><span class="pre">export_dir</span></code>,
<code class="docutils literal"><span class="pre">partition_spec</span></code>, <code class="docutils literal"><span class="pre">qubole_conn_id</span></code>, <code class="docutils literal"><span class="pre">arguments</span></code>, <code class="docutils literal"><span class="pre">user_program_arguments</span></code>.</p>
<blockquote class="last">
<div>You can also use <code class="docutils literal"><span class="pre">.txt</span></code> files for template driven use cases.</div></blockquote>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In QuboleOperator there is a default handler for task failures and retries,
which generally kills the command running at QDS for the corresponding task
instance. You can override this behavior by providing your own failure and retry
handler in task definition.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.hipchat_operator.HipChatAPIOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.hipchat_operator.</code><code class="descname">HipChatAPIOperator</code><span class="sig-paren">(</span><em>token</em>, <em>base_url='https://api.hipchat.com/v2'</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/hipchat_operator.html#HipChatAPIOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.hipchat_operator.HipChatAPIOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base HipChat Operator.
All derived HipChat operators reference from HipChat’s official REST API documentation
at <a class="reference external" href="https://www.hipchat.com/docs/apiv2">https://www.hipchat.com/docs/apiv2</a>. Before using any HipChat API operators you need
to get an authentication token at <a class="reference external" href="https://www.hipchat.com/docs/apiv2/auth">https://www.hipchat.com/docs/apiv2/auth</a>.
In the future additional HipChat operators will be derived from this class as well.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>token</strong> (<em>str</em>) – HipChat REST API authentication token</li>
<li><strong>base_url</strong> (<em>str</em>) – HipChat REST API base url.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.contrib.operators.hipchat_operator.HipChatAPISendRoomNotificationOperator">
<em class="property">class </em><code class="descclassname">airflow.contrib.operators.hipchat_operator.</code><code class="descname">HipChatAPISendRoomNotificationOperator</code><span class="sig-paren">(</span><em>room_id</em>, <em>message</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/operators/hipchat_operator.html#HipChatAPISendRoomNotificationOperator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.operators.hipchat_operator.HipChatAPISendRoomNotificationOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Send notification to a specific HipChat room.
More info: <a class="reference external" href="https://www.hipchat.com/docs/apiv2/method/send_room_notification">https://www.hipchat.com/docs/apiv2/method/send_room_notification</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>room_id</strong> (<em>str</em>) – Room in which to send notification on HipChat</li>
<li><strong>message</strong> (<em>str</em>) – The message body</li>
<li><strong>frm</strong> (<em>str</em>) – Label to be shown in addition to sender’s name</li>
<li><strong>message_format</strong> (<em>str</em>) – How the notification is rendered: html or text</li>
<li><strong>color</strong> (<em>str</em>) – Background color of the msg: yellow, green, red, purple, gray, or random</li>
<li><strong>attach_to</strong> (<em>str</em>) – The message id to attach this notification to</li>
<li><strong>notify</strong> (<em>bool</em>) – Whether this message should trigger a user notification</li>
<li><strong>card</strong> (<em>dict</em>) – HipChat-defined card object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="macros">
<span id="id1"></span><h2>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h2>
<p>Here’s a list of variables and macros that can be used in templates</p>
<div class="section" id="default-variables">
<h3>Default Variables<a class="headerlink" href="#default-variables" title="Permalink to this headline">¶</a></h3>
<p>The Airflow engine passes a few variables by default that are accessible
in all templates</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">ds</span> <span class="pre">}}</span></code></td>
<td>the execution date as <code class="docutils literal"><span class="pre">YYYY-MM-DD</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">ds_nodash</span> <span class="pre">}}</span></code></td>
<td>the execution date as <code class="docutils literal"><span class="pre">YYYYMMDD</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">yesterday_ds</span> <span class="pre">}}</span></code></td>
<td>yesterday’s date as <code class="docutils literal"><span class="pre">YYYY-MM-DD</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">yesterday_ds_nodash</span> <span class="pre">}}</span></code></td>
<td>yesterday’s date as <code class="docutils literal"><span class="pre">YYYYMMDD</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">tomorrow_ds</span> <span class="pre">}}</span></code></td>
<td>tomorrow’s date as <code class="docutils literal"><span class="pre">YYYY-MM-DD</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">tomorrow_ds_nodash</span> <span class="pre">}}</span></code></td>
<td>tomorrow’s date as <code class="docutils literal"><span class="pre">YYYYMMDD</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">ts</span> <span class="pre">}}</span></code></td>
<td>same as <code class="docutils literal"><span class="pre">execution_date.isoformat()</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">ts_nodash</span> <span class="pre">}}</span></code></td>
<td>same as <code class="docutils literal"><span class="pre">ts</span></code> without <code class="docutils literal"><span class="pre">-</span></code> and <code class="docutils literal"><span class="pre">:</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">execution_date</span> <span class="pre">}}</span></code></td>
<td>the execution_date, (datetime.datetime)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">prev_execution_date</span> <span class="pre">}}</span></code></td>
<td>the previous execution date (if available) (datetime.datetime)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">next_execution_date</span> <span class="pre">}}</span></code></td>
<td>the next execution date (datetime.datetime)</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">dag</span> <span class="pre">}}</span></code></td>
<td>the DAG object</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">task</span> <span class="pre">}}</span></code></td>
<td>the Task object</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">macros</span> <span class="pre">}}</span></code></td>
<td>a reference to the macros package, described below</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">task_instance</span> <span class="pre">}}</span></code></td>
<td>the task_instance object</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">end_date</span> <span class="pre">}}</span></code></td>
<td>same as <code class="docutils literal"><span class="pre">{{</span> <span class="pre">ds</span> <span class="pre">}}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">latest_date</span> <span class="pre">}}</span></code></td>
<td>same as <code class="docutils literal"><span class="pre">{{</span> <span class="pre">ds</span> <span class="pre">}}</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">ti</span> <span class="pre">}}</span></code></td>
<td>same as <code class="docutils literal"><span class="pre">{{</span> <span class="pre">task_instance</span> <span class="pre">}}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">params</span> <span class="pre">}}</span></code></td>
<td>a reference to the user-defined params dictionary</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">var.value.my_var</span> <span class="pre">}}</span></code></td>
<td>global defined variables represented as a dictionary</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">var.json.my_var.path</span> <span class="pre">}}</span></code></td>
<td>global defined variables represented as a dictionary
with deserialized JSON object, append the path to the
key within the JSON object</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">task_instance_key_str</span> <span class="pre">}}</span></code></td>
<td>a unique, human-readable key to the task instance
formatted <code class="docutils literal"><span class="pre">{dag_id}_{task_id}_{ds}</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">conf</span> <span class="pre">}}</span></code></td>
<td>the full configuration object located at
<code class="docutils literal"><span class="pre">airflow.configuration.conf</span></code> which
represents the content of your
<code class="docutils literal"><span class="pre">airflow.cfg</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">run_id</span> <span class="pre">}}</span></code></td>
<td>the <code class="docutils literal"><span class="pre">run_id</span></code> of the current DAG run</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">dag_run</span> <span class="pre">}}</span></code></td>
<td>a reference to the DagRun object</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">{{</span> <span class="pre">test_mode</span> <span class="pre">}}</span></code></td>
<td>whether the task instance was called using
the CLI’s test subcommand</td>
</tr>
</tbody>
</table>
<p>Note that you can access the object’s attributes and methods with simple
dot notation. Here are some examples of what is possible:
<code class="docutils literal"><span class="pre">{{</span> <span class="pre">task.owner</span> <span class="pre">}}</span></code>, <code class="docutils literal"><span class="pre">{{</span> <span class="pre">task.task_id</span> <span class="pre">}}</span></code>, <code class="docutils literal"><span class="pre">{{</span> <span class="pre">ti.hostname</span> <span class="pre">}}</span></code>, …
Refer to the models documentation for more information on the objects’
attributes and methods.</p>
<p>The <code class="docutils literal"><span class="pre">var</span></code> template variable allows you to access variables defined in Airflow’s
UI. You can access them as either plain-text or JSON. If you use JSON, you are
also able to walk nested structures, such as dictionaries like:
<code class="docutils literal"><span class="pre">{{</span> <span class="pre">var.json.my_dict_var.key1</span> <span class="pre">}}</span></code></p>
</div>
<div class="section" id="id2">
<h3>Macros<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>Macros are a way to expose objects to your templates and live under the
<code class="docutils literal"><span class="pre">macros</span></code> namespace in your templates.</p>
<p>A few commonly used libraries and methods are made available.</p>
<table border="1" class="docutils">
<colgroup>
<col width="44%" />
<col width="56%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">macros.datetime</span></code></td>
<td>The standard lib’s <code class="docutils literal"><span class="pre">datetime.datetime</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">macros.timedelta</span></code></td>
<td>The standard lib’s <code class="docutils literal"><span class="pre">datetime.timedelta</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">macros.dateutil</span></code></td>
<td>A reference to the <code class="docutils literal"><span class="pre">dateutil</span></code> package</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">macros.time</span></code></td>
<td>The standard lib’s <code class="docutils literal"><span class="pre">time</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">macros.uuid</span></code></td>
<td>The standard lib’s <code class="docutils literal"><span class="pre">uuid</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">macros.random</span></code></td>
<td>The standard lib’s <code class="docutils literal"><span class="pre">random</span></code></td>
</tr>
</tbody>
</table>
<p>Some airflow specific macros are also defined:</p>
<span class="target" id="module-airflow.macros"></span><dl class="function">
<dt id="airflow.macros.ds_add">
<code class="descclassname">airflow.macros.</code><code class="descname">ds_add</code><span class="sig-paren">(</span><em>ds</em>, <em>days</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/macros.html#ds_add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.macros.ds_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or subtract days from a YYYY-MM-DD</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ds</strong> (<em>str</em>) – anchor date in <code class="docutils literal"><span class="pre">YYYY-MM-DD</span></code> format to add to</li>
<li><strong>days</strong> (<em>int</em>) – number of days to add to the ds, you can use negative values</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds_add</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;2015-01-06&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_add</span><span class="p">(</span><span class="s1">&#39;2015-01-06&#39;</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="go">&#39;2015-01-01&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="airflow.macros.ds_format">
<code class="descclassname">airflow.macros.</code><code class="descname">ds_format</code><span class="sig-paren">(</span><em>ds</em>, <em>input_format</em>, <em>output_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/macros.html#ds_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.macros.ds_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes an input string and outputs another string
as specified in the output format</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ds</strong> (<em>str</em>) – input string which contains a date</li>
<li><strong>input_format</strong> (<em>str</em>) – input string format. E.g. %Y-%m-%d</li>
<li><strong>output_format</strong> (<em>str</em>) – output string format  E.g. %Y-%m-%d</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ds_format</span><span class="p">(</span><span class="s1">&#39;2015-01-01&#39;</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;%m-</span><span class="si">%d</span><span class="s2">-%y&quot;</span><span class="p">)</span>
<span class="go">&#39;01-01-15&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ds_format</span><span class="p">(</span><span class="s1">&#39;1/5/2015&#39;</span><span class="p">,</span> <span class="s2">&quot;%m/</span><span class="si">%d</span><span class="s2">/%Y&quot;</span><span class="p">,</span>  <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">&#39;2015-01-05&#39;</span>
</pre></div>
</div>
</dd></dl>

<span class="target" id="module-airflow.macros.hive"></span><dl class="function">
<dt id="airflow.macros.hive.closest_ds_partition">
<code class="descclassname">airflow.macros.hive.</code><code class="descname">closest_ds_partition</code><span class="sig-paren">(</span><em>table</em>, <em>ds</em>, <em>before=True</em>, <em>schema='default'</em>, <em>metastore_conn_id='metastore_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/macros/hive.html#closest_ds_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.macros.hive.closest_ds_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>This function finds the date in a list closest to the target date.
An optional parameter can be given to get the closest before or after.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>table</strong> (<em>str</em>) – A hive table name</li>
<li><strong>ds</strong> (<em>datetime.date list</em>) – A datestamp <code class="docutils literal"><span class="pre">%Y-%m-%d</span></code> e.g. <code class="docutils literal"><span class="pre">yyyy-mm-dd</span></code></li>
<li><strong>before</strong> (<em>bool</em><em> or </em><em>None</em>) – closest before (True), after (False) or either side of ds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The closest date</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str or None</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tbl</span> <span class="o">=</span> <span class="s1">&#39;airflow.static_babynames_partitioned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">closest_ds_partition</span><span class="p">(</span><span class="n">tbl</span><span class="p">,</span> <span class="s1">&#39;2015-01-02&#39;</span><span class="p">)</span>
<span class="go">&#39;2015-01-01&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="airflow.macros.hive.max_partition">
<code class="descclassname">airflow.macros.hive.</code><code class="descname">max_partition</code><span class="sig-paren">(</span><em>table</em>, <em>schema='default'</em>, <em>field=None</em>, <em>filter=None</em>, <em>metastore_conn_id='metastore_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/macros/hive.html#max_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.macros.hive.max_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the max partition for a table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>schema</strong> (<em>string</em>) – The hive schema the table lives in</li>
<li><strong>table</strong> (<em>string</em>) – The hive table you are interested in, supports the dot
notation as in “my_database.my_table”, if a dot is found,
the schema param is disregarded</li>
<li><strong>hive_conn_id</strong> (<em>string</em>) – The hive connection you are interested in.
If your default is set you don’t need to use this parameter.</li>
<li><strong>filter</strong> (<em>string</em>) – filter on a subset of partition as in
<cite>sub_part=’specific_value’</cite></li>
<li><strong>field</strong> – the field to get the max value from. If there’s only
one partition field, this will be inferred</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">max_partition</span><span class="p">(</span><span class="s1">&#39;airflow.static_babynames_partitioned&#39;</span><span class="p">)</span>
<span class="go">&#39;2015-01-01&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="models">
<span id="models-ref"></span><h2>Models<a class="headerlink" href="#models" title="Permalink to this headline">¶</a></h2>
<p>Models are built on top of the SQLAlchemy ORM Base class, and instances are
persisted in the database.</p>
<span class="target" id="module-airflow.models"></span><dl class="class">
<dt id="airflow.models.DAG">
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">DAG</code><span class="sig-paren">(</span><em>dag_id</em>, <em>description=u''</em>, <em>schedule_interval=datetime.timedelta(1)</em>, <em>start_date=None</em>, <em>end_date=None</em>, <em>full_filepath=None</em>, <em>template_searchpath=None</em>, <em>user_defined_macros=None</em>, <em>user_defined_filters=None</em>, <em>default_args=None</em>, <em>concurrency=16</em>, <em>max_active_runs=16</em>, <em>dagrun_timeout=None</em>, <em>sla_miss_callback=None</em>, <em>default_view=u'tree'</em>, <em>orientation='LR'</em>, <em>catchup=True</em>, <em>params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.dag.base_dag.BaseDag</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>A dag (directed acyclic graph) is a collection of tasks with directional
dependencies. A dag also has a schedule, a start end an end date
(optional). For each schedule, (say daily or hourly), the DAG needs to run
each individual tasks as their dependencies are met. Certain tasks have
the property of depending on their own past, meaning that they can’t run
until their previous schedule (and upstream tasks) are completed.</p>
<p>DAGs essentially act as namespaces for tasks. A task_id can only be
added once to a DAG.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dag_id</strong> (<em>string</em>) – The id of the DAG</li>
<li><strong>description</strong> (<em>string</em>) – The description for the DAG to e.g. be shown on the webserver</li>
<li><strong>schedule_interval</strong> (<em>datetime.timedelta</em><em> or
</em><em>dateutil.relativedelta.relativedelta</em><em> or </em><em>str that acts as a cron
expression</em>) – Defines how often that DAG runs, this
timedelta object gets added to your latest task instance’s
execution_date to figure out the next schedule</li>
<li><strong>start_date</strong> (<em>datetime.datetime</em>) – The timestamp from which the scheduler will
attempt to backfill</li>
<li><strong>end_date</strong> (<em>datetime.datetime</em>) – A date beyond which your DAG won’t run, leave to None
for open ended scheduling</li>
<li><strong>template_searchpath</strong> (<em>string</em><em> or </em><em>list of stings</em>) – This list of folders (non relative)
defines where jinja will look for your templates. Order matters.
Note that jinja/airflow includes the path of your DAG file by
default</li>
<li><strong>user_defined_macros</strong> (<em>dict</em>) – a dictionary of macros that will be exposed
in your jinja templates. For example, passing <code class="docutils literal"><span class="pre">dict(foo='bar')</span></code>
to this argument allows you to <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo</span> <span class="pre">}}</span></code> in all jinja
templates related to this DAG. Note that you can pass any
type of object here.</li>
<li><strong>user_defined_filters</strong> (<em>dict</em>) – a dictionary of filters that will be exposed
in your jinja templates. For example, passing
<code class="docutils literal"><span class="pre">dict(hello=lambda</span> <span class="pre">name:</span> <span class="pre">'Hello</span> <span class="pre">%s'</span> <span class="pre">%</span> <span class="pre">name)</span></code> to this argument allows
you to <code class="docutils literal"><span class="pre">{{</span> <span class="pre">'world'</span> <span class="pre">|</span> <span class="pre">hello</span> <span class="pre">}}</span></code> in all jinja templates related to
this DAG.</li>
<li><strong>default_args</strong> (<em>dict</em>) – A dictionary of default parameters to be used
as constructor keyword parameters when initialising operators.
Note that operators have the same hook, and precede those defined
here, meaning that if your dict contains <cite>‘depends_on_past’: True</cite>
here and <cite>‘depends_on_past’: False</cite> in the operator’s call
<cite>default_args</cite>, the actual value will be <cite>False</cite>.</li>
<li><strong>params</strong> (<em>dict</em>) – a dictionary of DAG level parameters that are made
accessible in templates, namespaced under <cite>params</cite>. These
params can be overridden at the task level.</li>
<li><strong>concurrency</strong> (<em>int</em>) – the number of task instances allowed to run
concurrently</li>
<li><strong>max_active_runs</strong> (<em>int</em>) – maximum number of active DAG runs, beyond this
number of DAG runs in a running state, the scheduler won’t create
new active DAG runs</li>
<li><strong>dagrun_timeout</strong> (<em>datetime.timedelta</em>) – specify how long a DagRun should be up before
timing out / failing, so that new DagRuns can be created</li>
<li><strong>sla_miss_callback</strong> (<em>types.FunctionType</em>) – specify a function to call when reporting SLA
timeouts.</li>
<li><strong>default_view</strong> (<em>string</em>) – Specify DAG default view (tree, graph, duration, gantt, landing_times)</li>
<li><strong>orientation</strong> (<em>string</em>) – Specify DAG orientation in graph view (LR, TB, RL, BT)</li>
<li><strong>catchup</strong> (<em>bool</em>) – Perform scheduler catchup (or only run latest)? Defaults to True</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.models.DAG.add_task">
<code class="descname">add_task</code><span class="sig-paren">(</span><em>task</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.add_task"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.add_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a task to the DAG</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>task</strong> (<em>task</em>) – the task you want to add</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.add_tasks">
<code class="descname">add_tasks</code><span class="sig-paren">(</span><em>tasks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.add_tasks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.add_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a list of tasks to the DAG</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>tasks</strong> (<em>list of tasks</em>) – a lit of tasks you want to add</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>start_date=None</em>, <em>end_date=None</em>, <em>only_failed=False</em>, <em>only_running=False</em>, <em>confirm_prompt=False</em>, <em>include_subdags=True</em>, <em>reset_dag_runs=True</em>, <em>dry_run=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears a set of task instances associated with the current dag for
a specified date range.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.cli">
<code class="descname">cli</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Exposes a CLI specific to this DAG</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.concurrency_reached">
<code class="descname">concurrency_reached</code><a class="headerlink" href="#airflow.models.DAG.concurrency_reached" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean indicating whether the concurrency limit for this DAG
has been reached</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.create_dagrun">
<code class="descname">create_dagrun</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.create_dagrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.create_dagrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a dag run from this dag including the tasks associated with this dag.
Returns the dag run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>run_id</strong> (<em>string</em>) – defines the the run id for this dag run</li>
<li><strong>execution_date</strong> (<em>datetime</em>) – the execution date of this dag run</li>
<li><strong>state</strong> (<em>State</em>) – the state of the dag run</li>
<li><strong>start_date</strong> (<em>datetime</em>) – the date this dag run should be evaluated</li>
<li><strong>external_trigger</strong> (<em>bool</em>) – whether this dag run is externally triggered</li>
<li><strong>session</strong> (<em>Session</em>) – database session</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="airflow.models.DAG.deactivate_stale_dags">
<em class="property">static </em><code class="descname">deactivate_stale_dags</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.deactivate_stale_dags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.deactivate_stale_dags" title="Permalink to this definition">¶</a></dt>
<dd><p>Deactivate any DAGs that were last touched by the scheduler before
the expiration date. These DAGs were likely deleted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>expiration_date</strong> (<em>datetime</em>) – set inactive DAGs that were touched before this
time</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="airflow.models.DAG.deactivate_unknown_dags">
<em class="property">static </em><code class="descname">deactivate_unknown_dags</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.deactivate_unknown_dags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.deactivate_unknown_dags" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of known DAGs, deactivate any other DAGs that are
marked as active in the ORM</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>active_dag_ids</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em>[</em><em>unicode</em><em>]</em>) – list of DAG IDs that are active</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.filepath">
<code class="descname">filepath</code><a class="headerlink" href="#airflow.models.DAG.filepath" title="Permalink to this definition">¶</a></dt>
<dd><p>File location of where the dag object is instantiated</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.folder">
<code class="descname">folder</code><a class="headerlink" href="#airflow.models.DAG.folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Folder location of where the dag object is instantiated</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_active_runs">
<code class="descname">get_active_runs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_active_runs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_active_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of dag run execution dates currently running</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of execution dates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_dagrun">
<code class="descname">get_dagrun</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_dagrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_dagrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dag run for a given execution date if it exists, otherwise
none.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>execution_date</strong> – The execution date of the DagRun to find.</li>
<li><strong>session</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The DagRun if found, otherwise None.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_last_dagrun">
<code class="descname">get_last_dagrun</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_last_dagrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_last_dagrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the last dag run for this dag, None if there was none.
Last dag run can be any type of run eg. scheduled or backfilled.
Overridden DagRuns are ignored</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_num_active_runs">
<code class="descname">get_num_active_runs</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_num_active_runs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_num_active_runs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of active “running” dag runs</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>external_trigger</strong> (<em>bool</em>) – True for externally triggered active dag runs</li>
<li><strong>session</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">number greater than 0 for active dag runs</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="airflow.models.DAG.get_num_task_instances">
<em class="property">static </em><code class="descname">get_num_task_instances</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_num_task_instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_num_task_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of task instances in the given DAG.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>session</strong> – ORM session</li>
<li><strong>dag_id</strong> (<em>unicode</em>) – ID of the DAG to get the task concurrency of</li>
<li><strong>task_ids</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em>[</em><em>unicode</em><em>]</em>) – A list of valid task IDs for the given DAG</li>
<li><strong>states</strong> (<a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a><em>[</em><em>state</em><em>]</em>) – A list of states to filter by if supplied</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The number of running tasks</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">int</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_run_dates">
<code class="descname">get_run_dates</code><span class="sig-paren">(</span><em>start_date</em>, <em>end_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_run_dates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_run_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of dates between the interval received as parameter using this
dag’s schedule interval. Returned dates can be used for execution dates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_date</strong> (<em>datetime</em>) – the start date of the interval</li>
<li><strong>end_date</strong> (<em>datetime</em>) – the end date of the interval, defaults to datetime.utcnow()</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a list of dates within the interval following the dag’s schedule</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list">list</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.get_template_env">
<code class="descname">get_template_env</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.get_template_env"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.get_template_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a jinja2 Environment while taking into account the DAGs
template_searchpath, user_defined_macros and user_defined_filters</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.is_paused">
<code class="descname">is_paused</code><a class="headerlink" href="#airflow.models.DAG.is_paused" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean indicating whether this DAG is paused</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.latest_execution_date">
<code class="descname">latest_execution_date</code><a class="headerlink" href="#airflow.models.DAG.latest_execution_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the latest date for which at least one dag run exists</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.normalize_schedule">
<code class="descname">normalize_schedule</code><span class="sig-paren">(</span><em>dttm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.normalize_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.normalize_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns dttm + interval unless dttm is first interval then it returns dttm</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>start_date=None</em>, <em>end_date=None</em>, <em>mark_success=False</em>, <em>include_adhoc=False</em>, <em>local=False</em>, <em>executor=None</em>, <em>donot_pickle=False</em>, <em>ignore_task_deps=False</em>, <em>ignore_first_depends_on_past=False</em>, <em>pool=None</em>, <em>delay_on_limit_secs=1.0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the DAG.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start_date</strong> (<em>datetime</em>) – the start date of the range to run</li>
<li><strong>end_date</strong> (<em>datetime</em>) – the end date of the range to run</li>
<li><strong>mark_success</strong> (<em>bool</em>) – True to mark jobs as succeeded without running them</li>
<li><strong>include_adhoc</strong> (<em>bool</em>) – True to include dags with the adhoc parameter</li>
<li><strong>local</strong> (<em>bool</em>) – True to run the tasks using the LocalExecutor</li>
<li><strong>executor</strong> (<em>BaseExecutor</em>) – The executor instance to run the tasks</li>
<li><strong>donot_pickle</strong> (<em>bool</em>) – True to avoid pickling DAG object and send to workers</li>
<li><strong>ignore_task_deps</strong> (<em>bool</em>) – True to skip upstream tasks</li>
<li><strong>ignore_first_depends_on_past</strong> (<em>bool</em>) – True to ignore depends_on_past
dependencies for the first set of tasks only</li>
<li><strong>pool</strong> (<em>string</em>) – Resource pool to use</li>
<li><strong>delay_on_limit_secs</strong> (<em>float</em>) – Time in seconds to wait before next attempt to run
dag run when max_active_runs limit has been reached</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.set_dependency">
<code class="descname">set_dependency</code><span class="sig-paren">(</span><em>upstream_task_id</em>, <em>downstream_task_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.set_dependency"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.set_dependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple utility method to set dependency between two tasks that
already have been added to the DAG using add_task()</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.sub_dag">
<code class="descname">sub_dag</code><span class="sig-paren">(</span><em>task_regex</em>, <em>include_downstream=False</em>, <em>include_upstream=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.sub_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.sub_dag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset of the current dag as a deep copy of the current dag
based on a regex that should match one or many tasks, and includes
upstream and downstream neighbours based on the flag passed.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.DAG.subdags">
<code class="descname">subdags</code><a class="headerlink" href="#airflow.models.DAG.subdags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the subdag objects associated to this DAG</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.sync_to_db">
<code class="descname">sync_to_db</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.sync_to_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.sync_to_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Save attributes about this DAG to the DB. Note that this method
can be called for both DAGs and SubDAGs. A SubDag is actually a
SubDagOperator.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dag</strong> (<a class="reference internal" href="#airflow.models.DAG" title="airflow.models.DAG"><em>DAG</em></a>) – the DAG object to save to the DB</li>
<li><strong>sync_time</strong> (<em>datetime</em>) – The time that the DAG should be marked as sync’ed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.topological_sort">
<code class="descname">topological_sort</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.topological_sort"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.topological_sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts tasks in topographical order, such that a task comes after any of its
upstream dependencies.</p>
<p>Heavily inspired by:
<a class="reference external" href="http://blog.jupo.org/2012/04/06/topological-sorting-acyclic-directed-graphs/">http://blog.jupo.org/2012/04/06/topological-sorting-acyclic-directed-graphs/</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">list of tasks in topological order</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DAG.tree_view">
<code class="descname">tree_view</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DAG.tree_view"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DAG.tree_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows an ascii tree representation of the DAG</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt>
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">BaseOperator</code><span class="sig-paren">(</span><em>task_id</em>, <em>owner='Airflow'</em>, <em>email=None</em>, <em>email_on_retry=True</em>, <em>email_on_failure=True</em>, <em>retries=0</em>, <em>retry_delay=datetime.timedelta(0</em>, <em>300)</em>, <em>retry_exponential_backoff=False</em>, <em>max_retry_delay=None</em>, <em>start_date=None</em>, <em>end_date=None</em>, <em>schedule_interval=None</em>, <em>depends_on_past=False</em>, <em>wait_for_downstream=False</em>, <em>dag=None</em>, <em>params=None</em>, <em>default_args=None</em>, <em>adhoc=False</em>, <em>priority_weight=1</em>, <em>queue='default'</em>, <em>pool=None</em>, <em>sla=None</em>, <em>execution_timeout=None</em>, <em>on_failure_callback=None</em>, <em>on_success_callback=None</em>, <em>on_retry_callback=None</em>, <em>trigger_rule=u'all_success'</em>, <em>resources=None</em>, <em>run_as_user=None</em>, <em>task_concurrency=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>Abstract base class for all operators. Since operators create objects that
become node in the dag, BaseOperator contains many recursive methods for
dag crawling behavior. To derive this class, you are expected to override
the constructor as well as the ‘execute’ method.</p>
<p>Operators derived from this class should perform or trigger certain tasks
synchronously (wait for completion). Example of operators could be an
operator the runs a Pig job (PigOperator), a sensor operator that
waits for a partition to land in Hive (HiveSensorOperator), or one that
moves data from Hive to MySQL (Hive2MySqlOperator). Instances of these
operators (tasks) target specific operations, running specific scripts,
functions or data transfers.</p>
<p>This class is abstract and shouldn’t be instantiated. Instantiating a
class derived from this one results in the creation of a task object,
which ultimately becomes a node in DAG objects. Task dependencies should
be set by using the set_upstream and/or set_downstream methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>task_id</strong> (<em>string</em>) – a unique, meaningful id for the task</li>
<li><strong>owner</strong> (<em>string</em>) – the owner of the task, using the unix username is recommended</li>
<li><strong>retries</strong> (<em>int</em>) – the number of retries that should be performed before
failing the task</li>
<li><strong>retry_delay</strong> (<em>timedelta</em>) – delay between retries</li>
<li><strong>retry_exponential_backoff</strong> (<em>bool</em>) – allow progressive longer waits between
retries by using exponential backoff algorithm on retry delay (delay
will be converted into seconds)</li>
<li><strong>max_retry_delay</strong> (<em>timedelta</em>) – maximum delay interval between retries</li>
<li><strong>start_date</strong> (<em>datetime</em>) – The <code class="docutils literal"><span class="pre">start_date</span></code> for the task, determines
the <code class="docutils literal"><span class="pre">execution_date</span></code> for the first task instance. The best practice
is to have the start_date rounded
to your DAG’s <code class="docutils literal"><span class="pre">schedule_interval</span></code>. Daily jobs have their start_date
some day at 00:00:00, hourly jobs have their start_date at 00:00
of a specific hour. Note that Airflow simply looks at the latest
<code class="docutils literal"><span class="pre">execution_date</span></code> and adds the <code class="docutils literal"><span class="pre">schedule_interval</span></code> to determine
the next <code class="docutils literal"><span class="pre">execution_date</span></code>. It is also very important
to note that different tasks’ dependencies
need to line up in time. If task A depends on task B and their
start_date are offset in a way that their execution_date don’t line
up, A’s dependencies will never be met. If you are looking to delay
a task, for example running a daily task at 2AM, look into the
<code class="docutils literal"><span class="pre">TimeSensor</span></code> and <code class="docutils literal"><span class="pre">TimeDeltaSensor</span></code>. We advise against using
dynamic <code class="docutils literal"><span class="pre">start_date</span></code> and recommend using fixed ones. Read the
FAQ entry about start_date for more information.</li>
<li><strong>end_date</strong> (<em>datetime</em>) – if specified, the scheduler won’t go beyond this date</li>
<li><strong>depends_on_past</strong> (<em>bool</em>) – when set to true, task instances will run
sequentially while relying on the previous task’s schedule to
succeed. The task instance for the start_date is allowed to run.</li>
<li><strong>wait_for_downstream</strong> (<em>bool</em>) – when set to true, an instance of task
X will wait for tasks immediately downstream of the previous instance
of task X to finish successfully before it runs. This is useful if the
different instances of a task X alter the same asset, and this asset
is used by tasks downstream of task X. Note that depends_on_past
is forced to True wherever wait_for_downstream is used.</li>
<li><strong>queue</strong> (<em>str</em>) – which queue to target when running this job. Not
all executors implement queue management, the CeleryExecutor
does support targeting specific queues.</li>
<li><strong>dag</strong> (<a class="reference internal" href="#airflow.models.DAG" title="airflow.models.DAG"><em>DAG</em></a>) – a reference to the dag the task is attached to (if any)</li>
<li><strong>priority_weight</strong> (<em>int</em>) – priority weight of this task against other task.
This allows the executor to trigger higher priority tasks before
others when things get backed up.</li>
<li><strong>pool</strong> (<em>str</em>) – the slot pool this task should run in, slot pools are a
way to limit concurrency for certain tasks</li>
<li><strong>sla</strong> (<em>datetime.timedelta</em>) – time by which the job is expected to succeed. Note that
this represents the <code class="docutils literal"><span class="pre">timedelta</span></code> after the period is closed. For
example if you set an SLA of 1 hour, the scheduler would send dan email
soon after 1:00AM on the <code class="docutils literal"><span class="pre">2016-01-02</span></code> if the <code class="docutils literal"><span class="pre">2016-01-01</span></code> instance
has not succeeded yet.
The scheduler pays special attention for jobs with an SLA and
sends alert
emails for sla misses. SLA misses are also recorded in the database
for future reference. All tasks that share the same SLA time
get bundled in a single email, sent soon after that time. SLA
notification are sent once and only once for each task instance.</li>
<li><strong>execution_timeout</strong> (<em>datetime.timedelta</em>) – max time allowed for the execution of
this task instance, if it goes beyond it will raise and fail.</li>
<li><strong>on_failure_callback</strong> (<em>callable</em>) – a function to be called when a task instance
of this task fails. a context dictionary is passed as a single
parameter to this function. Context contains references to related
objects to the task instance and is documented under the macros
section of the API.</li>
<li><strong>on_retry_callback</strong> – much like the <code class="docutils literal"><span class="pre">on_failure_callback</span></code> except
that it is executed when retries occur.</li>
<li><strong>on_success_callback</strong> (<em>callable</em>) – much like the <code class="docutils literal"><span class="pre">on_failure_callback</span></code> except
that it is executed when the task succeeds.</li>
<li><strong>trigger_rule</strong> (<em>str</em>) – defines the rule by which dependencies are applied
for the task to get triggered. Options are:
<code class="docutils literal"><span class="pre">{</span> <span class="pre">all_success</span> <span class="pre">|</span> <span class="pre">all_failed</span> <span class="pre">|</span> <span class="pre">all_done</span> <span class="pre">|</span> <span class="pre">one_success</span> <span class="pre">|</span>
<span class="pre">one_failed</span> <span class="pre">|</span> <span class="pre">dummy}</span></code>
default is <code class="docutils literal"><span class="pre">all_success</span></code>. Options can be set as string or
using the constants defined in the static class
<code class="docutils literal"><span class="pre">airflow.utils.TriggerRule</span></code></li>
<li><strong>resources</strong> (<em>dict</em>) – A map of resource parameter names (the argument names of the
Resources constructor) to their values.</li>
<li><strong>run_as_user</strong> (<em>str</em>) – unix username to impersonate while running the task</li>
<li><strong>task_concurrency</strong> (<em>int</em>) – When set, a task will be able to limit the concurrent
runs across execution_dates</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.models.BaseOperator.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><em>start_date=None</em>, <em>end_date=None</em>, <em>upstream=False</em>, <em>downstream=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the state of task instances associated with the task, following
the parameters specified.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.BaseOperator.dag">
<code class="descname">dag</code><a class="headerlink" href="#airflow.models.BaseOperator.dag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Operator’s DAG if set, otherwise raises an error</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.BaseOperator.deps">
<code class="descname">deps</code><a class="headerlink" href="#airflow.models.BaseOperator.deps" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of dependencies for the operator. These differ from execution
context dependencies in that they are specific to tasks and can be
extended/overridden by subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.detect_downstream_cycle">
<code class="descname">detect_downstream_cycle</code><span class="sig-paren">(</span><em>task=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.detect_downstream_cycle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.detect_downstream_cycle" title="Permalink to this definition">¶</a></dt>
<dd><p>When invoked, this routine will raise an exception if a cycle is
detected downstream from self. It is invoked when tasks are added to
the DAG to detect cycles.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.BaseOperator.downstream_list">
<code class="descname">downstream_list</code><a class="headerlink" href="#airflow.models.BaseOperator.downstream_list" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;property: list of tasks directly downstream</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the main method to derive when creating an operator.
Context is the same dictionary used as when rendering jinja templates.</p>
<p>Refer to get_template_context for more context.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.get_direct_relatives">
<code class="descname">get_direct_relatives</code><span class="sig-paren">(</span><em>upstream=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.get_direct_relatives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.get_direct_relatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the direct relatives to the current task, upstream or
downstream.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.get_flat_relatives">
<code class="descname">get_flat_relatives</code><span class="sig-paren">(</span><em>upstream=False</em>, <em>l=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.get_flat_relatives"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.get_flat_relatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a flat list of relatives, either upstream or downstream.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.get_task_instances">
<code class="descname">get_task_instances</code><span class="sig-paren">(</span><em>session</em>, <em>start_date=None</em>, <em>end_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.get_task_instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.get_task_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a set of task instance related to this task for a specific date
range.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.has_dag">
<code class="descname">has_dag</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.has_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.has_dag" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the Operator has been assigned to a DAG.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.on_kill">
<code class="descname">on_kill</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.on_kill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.on_kill" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this method to cleanup subprocesses when a task instance
gets killed. Any use of the threading, subprocess or multiprocessing
module within an operator needs to be cleaned up or it will leave
ghost processes behind.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.post_execute">
<code class="descname">post_execute</code><span class="sig-paren">(</span><em>context</em>, <em>result=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.post_execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.post_execute" title="Permalink to this definition">¶</a></dt>
<dd><p>This hook is triggered right after self.execute() is called.
It is passed the execution context and any results returned by the
operator.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.pre_execute">
<code class="descname">pre_execute</code><span class="sig-paren">(</span><em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.pre_execute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.pre_execute" title="Permalink to this definition">¶</a></dt>
<dd><p>This hook is triggered right before self.execute() is called.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.prepare_template">
<code class="descname">prepare_template</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.prepare_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.prepare_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook that is triggered after the templated fields get replaced
by their content. If you need your operator to alter the
content of the file before the template is rendered,
it should override this method to do so.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.render_template">
<code class="descname">render_template</code><span class="sig-paren">(</span><em>attr</em>, <em>content</em>, <em>context</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.render_template"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.render_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template either from a file or directly in a field, and returns
the rendered result.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.render_template_from_field">
<code class="descname">render_template_from_field</code><span class="sig-paren">(</span><em>attr</em>, <em>content</em>, <em>context</em>, <em>jinja_env</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.render_template_from_field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.render_template_from_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template from a field. If the field is a string, it will
simply render the string and return the result. If it is a collection or
nested set of collections, it will traverse the structure and render
all strings in it.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>start_date=None</em>, <em>end_date=None</em>, <em>ignore_first_depends_on_past=False</em>, <em>ignore_ti_state=False</em>, <em>mark_success=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a set of task instances for a date range.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.BaseOperator.schedule_interval">
<code class="descname">schedule_interval</code><a class="headerlink" href="#airflow.models.BaseOperator.schedule_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>The schedule interval of the DAG always wins over individual tasks so
that tasks within a DAG always line up. The task still needs a
schedule_interval as it may not be attached to a DAG.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.set_downstream">
<code class="descname">set_downstream</code><span class="sig-paren">(</span><em>task_or_task_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.set_downstream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.set_downstream" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a task, or a task task to be directly downstream from the current
task.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.set_upstream">
<code class="descname">set_upstream</code><span class="sig-paren">(</span><em>task_or_task_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.set_upstream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.set_upstream" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a task, or a task task to be directly upstream from the current
task.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.BaseOperator.upstream_list">
<code class="descname">upstream_list</code><a class="headerlink" href="#airflow.models.BaseOperator.upstream_list" title="Permalink to this definition">¶</a></dt>
<dd><p>&#64;property: list of tasks directly upstream</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.xcom_pull">
<code class="descname">xcom_pull</code><span class="sig-paren">(</span><em>context</em>, <em>task_ids</em>, <em>dag_id=None</em>, <em>key=u'return_value'</em>, <em>include_prior_dates=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.xcom_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.xcom_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>See TaskInstance.xcom_pull()</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.BaseOperator.xcom_push">
<code class="descname">xcom_push</code><span class="sig-paren">(</span><em>context</em>, <em>key</em>, <em>value</em>, <em>execution_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#BaseOperator.xcom_push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.BaseOperator.xcom_push" title="Permalink to this definition">¶</a></dt>
<dd><p>See TaskInstance.xcom_push()</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.models.TaskInstance">
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">TaskInstance</code><span class="sig-paren">(</span><em>task</em>, <em>execution_date</em>, <em>state=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>Task instances store the state of a task instance. This table is the
authority and single source of truth around what tasks have run and the
state they are in.</p>
<p>The SqlAlchemy model doesn’t have a SqlAlchemy foreign key to the task or
dag model deliberately to have more control over transactions.</p>
<p>Database transactions on this table should insure double triggers and
any confusion around what task instances are or aren’t ready to run
even while multiple schedulers may be firing task instances.</p>
<dl class="method">
<dt id="airflow.models.TaskInstance.are_dependencies_met">
<code class="descname">are_dependencies_met</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.are_dependencies_met"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.are_dependencies_met" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not all the conditions are met for this task instance to be run
given the context for the dependencies (e.g. a task instance being force run from
the UI will ignore some dependencies).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dep_context</strong> (<em>DepContext</em>) – The execution context that determines the dependencies that
should be evaluated.</li>
<li><strong>session</strong> (<em>Session</em>) – database session</li>
<li><strong>verbose</strong> (<em>boolean</em>) – whether or not to print details on failed dependencies</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.are_dependents_done">
<code class="descname">are_dependents_done</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.are_dependents_done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.are_dependents_done" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the dependents of this task instance have all succeeded.
This is meant to be used by wait_for_downstream.</p>
<p>This is useful when you do not want to start processing the next
schedule of a task until the dependents are done. For instance,
if the task DROPs and recreates a table.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.clear_xcom_data">
<code class="descname">clear_xcom_data</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.clear_xcom_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.clear_xcom_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears all XCom data from the database for the task instance</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.command">
<code class="descname">command</code><span class="sig-paren">(</span><em>mark_success=False</em>, <em>ignore_all_deps=False</em>, <em>ignore_depends_on_past=False</em>, <em>ignore_task_deps=False</em>, <em>ignore_ti_state=False</em>, <em>local=False</em>, <em>pickle_id=None</em>, <em>raw=False</em>, <em>job_id=None</em>, <em>pool=None</em>, <em>cfg_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.command" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a command that can be executed anywhere where airflow is
installed. This command is part of the message sent to executors by
the orchestrator.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.command_as_list">
<code class="descname">command_as_list</code><span class="sig-paren">(</span><em>mark_success=False</em>, <em>ignore_all_deps=False</em>, <em>ignore_task_deps=False</em>, <em>ignore_depends_on_past=False</em>, <em>ignore_ti_state=False</em>, <em>local=False</em>, <em>pickle_id=None</em>, <em>raw=False</em>, <em>job_id=None</em>, <em>pool=None</em>, <em>cfg_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.command_as_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.command_as_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a command that can be executed anywhere where airflow is
installed. This command is part of the message sent to executors by
the orchestrator.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.current_state">
<code class="descname">current_state</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.current_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.current_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the very latest state from the database, if a session is passed,
we use and looking up the state becomes part of the session, otherwise
a new session is used.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.error">
<code class="descname">error</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Forces the task instance’s state to FAILED in the database.</p>
</dd></dl>

<dl class="staticmethod">
<dt id="airflow.models.TaskInstance.generate_command">
<em class="property">static </em><code class="descname">generate_command</code><span class="sig-paren">(</span><em>dag_id</em>, <em>task_id</em>, <em>execution_date</em>, <em>mark_success=False</em>, <em>ignore_all_deps=False</em>, <em>ignore_depends_on_past=False</em>, <em>ignore_task_deps=False</em>, <em>ignore_ti_state=False</em>, <em>local=False</em>, <em>pickle_id=None</em>, <em>file_path=None</em>, <em>raw=False</em>, <em>job_id=None</em>, <em>pool=None</em>, <em>cfg_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.generate_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.generate_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the shell command required to execute this task instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dag_id</strong> (<em>unicode</em>) – DAG ID</li>
<li><strong>task_id</strong> (<em>unicode</em>) – Task ID</li>
<li><strong>execution_date</strong> (<em>datetime</em>) – Execution date for the task</li>
<li><strong>mark_success</strong> (<em>bool</em>) – Whether to mark the task as successful</li>
<li><strong>ignore_all_deps</strong> (<em>boolean</em>) – Ignore all ignorable dependencies.
Overrides the other ignore_* parameters.</li>
<li><strong>ignore_depends_on_past</strong> (<em>boolean</em>) – Ignore depends_on_past parameter of DAGs
(e.g. for Backfills)</li>
<li><strong>ignore_task_deps</strong> (<em>boolean</em>) – Ignore task-specific dependencies such as depends_on_past
and trigger rule</li>
<li><strong>ignore_ti_state</strong> (<em>boolean</em>) – Ignore the task instance’s previous failure/success</li>
<li><strong>local</strong> (<em>bool</em>) – Whether to run the task locally</li>
<li><strong>pickle_id</strong> (<em>unicode</em>) – If the DAG was serialized to the DB, the ID
associated with the pickled DAG</li>
<li><strong>file_path</strong> – path to the file containing the DAG definition</li>
<li><strong>raw</strong> – raw mode (needs more details)</li>
<li><strong>job_id</strong> – job ID (needs more details)</li>
<li><strong>pool</strong> (<em>unicode</em>) – the Airflow pool that the task should run in</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">shell command that can be used to run the task instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.get_dagrun">
<code class="descname">get_dagrun</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.get_dagrun"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.get_dagrun" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the DagRun for this TaskInstance</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">DagRun</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.init_on_load">
<code class="descname">init_on_load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.init_on_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.init_on_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the attributes that aren’t stored in the DB.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.TaskInstance.is_premature">
<code class="descname">is_premature</code><a class="headerlink" href="#airflow.models.TaskInstance.is_premature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether a task is in UP_FOR_RETRY state and its retry interval
has elapsed.</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.TaskInstance.key">
<code class="descname">key</code><a class="headerlink" href="#airflow.models.TaskInstance.key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple that identifies the task instance uniquely</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.next_retry_datetime">
<code class="descname">next_retry_datetime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.next_retry_datetime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.next_retry_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get datetime of the next retry if the task instance fails. For exponential
backoff, retry_delay is used as base and will be converted to seconds.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.pool_full">
<code class="descname">pool_full</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.pool_full"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.pool_full" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boolean as to whether the slot pool has room for this
task to run</p>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.TaskInstance.previous_ti">
<code class="descname">previous_ti</code><a class="headerlink" href="#airflow.models.TaskInstance.previous_ti" title="Permalink to this definition">¶</a></dt>
<dd><p>The task instance for the task that ran before this task instance</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.ready_for_retry">
<code class="descname">ready_for_retry</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.ready_for_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.ready_for_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks on whether the task instance is in the right state and timeframe
to be retried.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.refresh_from_db">
<code class="descname">refresh_from_db</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.refresh_from_db"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.refresh_from_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Refreshes the task instance from the database based on the primary key</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>lock_for_update</strong> – if True, indicates that the database should
lock the TaskInstance (issuing a FOR UPDATE clause) until the
session is committed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="airflow.models.TaskInstance.try_number">
<code class="descname">try_number</code><a class="headerlink" href="#airflow.models.TaskInstance.try_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the try number that this task number will be when it is acutally
run.</p>
<p>If the TI is currently running, this will match the column in the
databse, in all othercases this will be incremenetd</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.xcom_pull">
<code class="descname">xcom_pull</code><span class="sig-paren">(</span><em>task_ids</em>, <em>dag_id=None</em>, <em>key=u'return_value'</em>, <em>include_prior_dates=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.xcom_pull"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.xcom_pull" title="Permalink to this definition">¶</a></dt>
<dd><p>Pull XComs that optionally meet certain criteria.</p>
<p>The default value for <cite>key</cite> limits the search to XComs
that were returned by other tasks (as opposed to those that were pushed
manually). To remove this filter, pass key=None (or any desired value).</p>
<p>If a single task_id string is provided, the result is the value of the
most recent matching XCom from that task_id. If multiple task_ids are
provided, a tuple of matching values is returned. None is returned
whenever no matches are found.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>string</em>) – A key for the XCom. If provided, only XComs with matching
keys will be returned. The default key is ‘return_value’, also
available as a constant XCOM_RETURN_KEY. This key is automatically
given to XComs returned by tasks (as opposed to being pushed
manually). To remove the filter, pass key=None.</li>
<li><strong>task_ids</strong> (<em>string</em><em> or </em><em>iterable of strings</em><em> (</em><em>representing task_ids</em><em>)</em>) – Only XComs from tasks with matching ids will be
pulled. Can pass None to remove the filter.</li>
<li><strong>dag_id</strong> (<em>string</em>) – If provided, only pulls XComs from this DAG.
If None (default), the DAG of the calling task is used.</li>
<li><strong>include_prior_dates</strong> (<em>bool</em>) – If False, only XComs from the current
execution_date are returned. If True, XComs from previous dates
are returned as well.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.models.TaskInstance.xcom_push">
<code class="descname">xcom_push</code><span class="sig-paren">(</span><em>key</em>, <em>value</em>, <em>execution_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#TaskInstance.xcom_push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.TaskInstance.xcom_push" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an XCom available for tasks to pull.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>string</em>) – A key for the XCom</li>
<li><strong>value</strong> (<em>any pickleable object</em>) – A value for the XCom. The value is pickled and stored
in the database.</li>
<li><strong>execution_date</strong> (<em>datetime</em>) – if provided, the XCom will not be visible until
this date. This can be used, for example, to send a message to a
task on a future date without it being immediately visible.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.models.DagBag">
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">DagBag</code><span class="sig-paren">(</span><em>dag_folder=None</em>, <em>executor=None</em>, <em>include_examples=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.dag.base_dag.BaseDagBag</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>A dagbag is a collection of dags, parsed out of a folder tree and has high
level configuration settings, like what database to use as a backend and
what executor to use to fire off tasks. This makes it easier to run
distinct environments for say production and development, tests, or for
different teams or security profiles. What would have been system level
settings are now dagbag level so that one system can run multiple,
independent settings sets.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dag_folder</strong> (<em>unicode</em>) – the folder to scan to find DAGs</li>
<li><strong>executor</strong> – the executor to use when executing task instances
in this DagBag</li>
<li><strong>include_examples</strong> (<em>bool</em>) – whether to include the examples that ship
with airflow or not</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.models.DagBag.bag_dag">
<code class="descname">bag_dag</code><span class="sig-paren">(</span><em>dag</em>, <em>parent_dag</em>, <em>root_dag</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.bag_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.bag_dag" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the DAG into the bag, recurses into sub dags.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.collect_dags">
<code class="descname">collect_dags</code><span class="sig-paren">(</span><em>dag_folder=None</em>, <em>only_if_updated=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.collect_dags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.collect_dags" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a file path or a folder, this method looks for python modules,
imports them and adds them to the dagbag collection.</p>
<p>Note that if a .airflowignore file is found while processing,
the directory, it will behaves much like a .gitignore does,
ignoring files that match any of the regex patterns specified
in the file.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.dagbag_report">
<code class="descname">dagbag_report</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.dagbag_report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.dagbag_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a report around DagBag loading stats</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.get_dag">
<code class="descname">get_dag</code><span class="sig-paren">(</span><em>dag_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.get_dag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.get_dag" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the DAG out of the dictionary, and refreshes it if expired</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.kill_zombies">
<code class="descname">kill_zombies</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.kill_zombies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.kill_zombies" title="Permalink to this definition">¶</a></dt>
<dd><p>Fails tasks that haven’t had a heartbeat in too long</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.process_file">
<code class="descname">process_file</code><span class="sig-paren">(</span><em>filepath</em>, <em>only_if_updated=True</em>, <em>safe_mode=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.process_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.process_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a path to a python module or zip file, this method imports
the module and look for dag objects within it.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.models.DagBag.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#DagBag.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.DagBag.size" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the amount of dags contained in this dagbag</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.models.Connection">
<em class="property">class </em><code class="descclassname">airflow.models.</code><code class="descname">Connection</code><span class="sig-paren">(</span><em>conn_id=None</em>, <em>conn_type=None</em>, <em>host=None</em>, <em>login=None</em>, <em>password=None</em>, <em>schema=None</em>, <em>port=None</em>, <em>extra=None</em>, <em>uri=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/models.html#Connection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.models.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>Placeholder to store information about different database instances
connection information. The idea here is that scripts use references to
database instances (conn_id) instead of hard coding hostname, logins and
passwords when using operators or hooks.</p>
<dl class="attribute">
<dt id="airflow.models.Connection.extra_dejson">
<code class="descname">extra_dejson</code><a class="headerlink" href="#airflow.models.Connection.extra_dejson" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the extra property by deserializing json.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hooks">
<h2>Hooks<a class="headerlink" href="#hooks" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-airflow.hooks"></span><p>Importer that dynamically loads a class and module from its parent. This
allows Airflow to support <code class="docutils literal"><span class="pre">from</span> <span class="pre">airflow.operators</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code>
even though BashOperator is actually in
<code class="docutils literal"><span class="pre">airflow.operators.bash_operator</span></code>.</p>
<p>The importer also takes over for the parent_module by wrapping it. This is
required to support attribute-based usage:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">airflow</span> <span class="k">import</span> <span class="n">operators</span>
<span class="n">operators</span><span class="o">.</span><span class="n">BashOperator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="airflow.hooks.DbApiHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">DbApiHook</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Abstract base class for sql hooks.</p>
<dl class="method">
<dt id="airflow.hooks.DbApiHook.bulk_dump">
<code class="descname">bulk_dump</code><span class="sig-paren">(</span><em>table</em>, <em>tmp_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.bulk_dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.bulk_dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps a database table into a tab-delimited file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>str</em>) – The name of the source table</li>
<li><strong>tmp_file</strong> (<em>str</em>) – The path of the target file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.bulk_load">
<code class="descname">bulk_load</code><span class="sig-paren">(</span><em>table</em>, <em>tmp_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.bulk_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.bulk_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a tab-delimited file into a database table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>str</em>) – The name of the target table</li>
<li><strong>tmp_file</strong> (<em>str</em>) – The path of the file to load into the table</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a connection object</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.get_cursor">
<code class="descname">get_cursor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.get_cursor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.get_cursor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a cursor</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.get_first">
<code class="descname">get_first</code><span class="sig-paren">(</span><em>sql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.get_first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.get_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the sql and returns the first resulting row.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em><em> or </em><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – the sql statement to be executed (str) or a list of
sql statements to execute</li>
<li><strong>parameters</strong> (<em>mapping</em><em> or </em><em>iterable</em>) – The parameters to render the SQL query with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.get_pandas_df">
<code class="descname">get_pandas_df</code><span class="sig-paren">(</span><em>sql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.get_pandas_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.get_pandas_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the sql and returns a pandas dataframe</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em><em> or </em><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – the sql statement to be executed (str) or a list of
sql statements to execute</li>
<li><strong>parameters</strong> (<em>mapping</em><em> or </em><em>iterable</em>) – The parameters to render the SQL query with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.get_records">
<code class="descname">get_records</code><span class="sig-paren">(</span><em>sql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the sql and returns a set of records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em><em> or </em><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – the sql statement to be executed (str) or a list of
sql statements to execute</li>
<li><strong>parameters</strong> (<em>mapping</em><em> or </em><em>iterable</em>) – The parameters to render the SQL query with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.insert_rows">
<code class="descname">insert_rows</code><span class="sig-paren">(</span><em>table</em>, <em>rows</em>, <em>target_fields=None</em>, <em>commit_every=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.insert_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.insert_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>A generic way to insert a set of tuples into a table,
a new transaction is created every commit_every rows</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>str</em>) – Name of the target table</li>
<li><strong>rows</strong> (<em>iterable of tuples</em>) – The rows to insert into the table</li>
<li><strong>target_fields</strong> (<em>iterable of strings</em>) – The names of the columns to fill in the table</li>
<li><strong>commit_every</strong> (<em>int</em>) – The maximum number of rows to insert in one
transaction. Set to 0 to insert all rows in one transaction.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.DbApiHook.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>sql</em>, <em>autocommit=False</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dbapi_hook.html#DbApiHook.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DbApiHook.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a command or a list of commands. Pass a list of sql
statements to the sql parameter to get them to execute
sequentially</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sql</strong> (<em>str</em><em> or </em><a class="reference internal" href="integration.html#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list" title="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook.list"><em>list</em></a>) – the sql statement to be executed (str) or a list of
sql statements to execute</li>
<li><strong>autocommit</strong> (<em>bool</em>) – What to set the connection’s autocommit setting to
before executing the query.</li>
<li><strong>parameters</strong> (<em>mapping</em><em> or </em><em>iterable</em>) – The parameters to render the SQL query with.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.HiveCliHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">HiveCliHook</code><span class="sig-paren">(</span><em>hive_cli_conn_id='hive_cli_default'</em>, <em>run_as=None</em>, <em>mapred_queue=None</em>, <em>mapred_queue_priority=None</em>, <em>mapred_job_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveCliHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveCliHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Simple wrapper around the hive CLI.</p>
<p>It also supports the <code class="docutils literal"><span class="pre">beeline</span></code>
a lighter CLI that runs JDBC and is replacing the heavier
traditional CLI. To enable <code class="docutils literal"><span class="pre">beeline</span></code>, set the use_beeline param in the
extra field of your connection as in <code class="docutils literal"><span class="pre">{</span> <span class="pre">&quot;use_beeline&quot;:</span> <span class="pre">true</span> <span class="pre">}</span></code></p>
<p>Note that you can also set default hive CLI parameters using the
<code class="docutils literal"><span class="pre">hive_cli_params</span></code> to be used in your connection as in
<code class="docutils literal"><span class="pre">{&quot;hive_cli_params&quot;:</span> <span class="pre">&quot;-hiveconf</span> <span class="pre">mapred.job.tracker=some.jobtracker:444&quot;}</span></code>
Parameters passed here can be overridden by run_cli’s hive_conf param</p>
<p>The extra connection parameter <code class="docutils literal"><span class="pre">auth</span></code> gets passed as in the <code class="docutils literal"><span class="pre">jdbc</span></code>
connection string as is.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mapred_queue</strong> (<em>string</em>) – queue used by the Hadoop Scheduler (Capacity or Fair)</li>
<li><strong>mapred_queue_priority</strong> (<em>string</em>) – priority within the job queue.
Possible settings include: VERY_HIGH, HIGH, NORMAL, LOW, VERY_LOW</li>
<li><strong>mapred_job_name</strong> (<em>string</em>) – This name will appear in the jobtracker.
This can make monitoring easier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="airflow.hooks.HiveCliHook.load_df">
<code class="descname">load_df</code><span class="sig-paren">(</span><em>df</em>, <em>table</em>, <em>create=True</em>, <em>recreate=False</em>, <em>field_dict=None</em>, <em>delimiter='</em>, <em>'</em>, <em>encoding='utf8'</em>, <em>pandas_kwargs=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveCliHook.load_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveCliHook.load_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a pandas DataFrame into hive.</p>
<p>Hive data types will be inferred if not passed but column names will
not be sanitized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>table</strong> (<em>str</em>) – target Hive table, use dot notation to target a
specific database</li>
<li><strong>create</strong> (<em>bool</em>) – whether to create the table if it doesn’t exist</li>
<li><strong>recreate</strong> (<em>bool</em>) – whether to drop and recreate the table at every
execution</li>
<li><strong>field_dict</strong> (<em>dict</em>) – mapping from column name to hive data type</li>
<li><strong>encoding</strong> (<em>str</em>) – string encoding to use when writing DataFrame to file</li>
<li><strong>pandas_kwargs</strong> (<em>dict</em>) – passed to DataFrame.to_csv</li>
<li><strong>kwargs</strong> – passed to self.load_file</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveCliHook.load_file">
<code class="descname">load_file</code><span class="sig-paren">(</span><em>filepath</em>, <em>table</em>, <em>delimiter='</em>, <em>'</em>, <em>field_dict=None</em>, <em>create=True</em>, <em>overwrite=True</em>, <em>partition=None</em>, <em>recreate=False</em>, <em>tblproperties=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveCliHook.load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveCliHook.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a local file into Hive</p>
<p>Note that the table generated in Hive uses <code class="docutils literal"><span class="pre">STORED</span> <span class="pre">AS</span> <span class="pre">textfile</span></code>
which isn’t the most efficient serialization format. If a
large amount of data is loaded and/or if the tables gets
queried considerably, you may want to use this operator only to
stage the data into a temporary table before loading it into its
final destination using a <code class="docutils literal"><span class="pre">HiveOperator</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filepath</strong> (<em>str</em>) – local filepath of the file to load</li>
<li><strong>table</strong> (<em>str</em>) – target Hive table, use dot notation to target a
specific database</li>
<li><strong>delimiter</strong> (<em>str</em>) – field delimiter in the file</li>
<li><strong>field_dict</strong> (<em>dict</em>) – A dictionary of the fields name in the file
as keys and their Hive types as values</li>
<li><strong>create</strong> (<em>bool</em>) – whether to create the table if it doesn’t exist</li>
<li><strong>overwrite</strong> (<em>bool</em>) – whether to overwrite the data in table or partition</li>
<li><strong>partition</strong> (<em>dict</em>) – target partition as a dict of partition columns
and values</li>
<li><strong>recreate</strong> (<em>bool</em>) – whether to drop and recreate the table at every
execution</li>
<li><strong>tblproperties</strong> (<em>dict</em>) – TBLPROPERTIES of the hive table being created</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveCliHook.run_cli">
<code class="descname">run_cli</code><span class="sig-paren">(</span><em>hql</em>, <em>schema=None</em>, <em>verbose=True</em>, <em>hive_conf=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveCliHook.run_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveCliHook.run_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an hql statement using the hive cli. If hive_conf is specified
it should be a dict and the entries will be set as key/value pairs
in HiveConf</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>hive_conf</strong> (<em>dict</em>) – if specified these key value pairs will be passed
to hive as <code class="docutils literal"><span class="pre">-hiveconf</span> <span class="pre">&quot;key&quot;=&quot;value&quot;</span></code>. Note that they will be
passed after the <code class="docutils literal"><span class="pre">hive_cli_params</span></code> and thus will override
whatever values are specified in the database.</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveCliHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">hh</span><span class="o">.</span><span class="n">run_cli</span><span class="p">(</span><span class="s2">&quot;USE airflow;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="s2">&quot;OK&quot;</span> <span class="ow">in</span> <span class="n">result</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveCliHook.test_hql">
<code class="descname">test_hql</code><span class="sig-paren">(</span><em>hql</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveCliHook.test_hql"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveCliHook.test_hql" title="Permalink to this definition">¶</a></dt>
<dd><p>Test an hql statement using the hive cli and EXPLAIN</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.HiveMetastoreHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">HiveMetastoreHook</code><span class="sig-paren">(</span><em>metastore_conn_id='metastore_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Wrapper to interact with the Hive Metastore</p>
<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.check_for_named_partition">
<code class="descname">check_for_named_partition</code><span class="sig-paren">(</span><em>schema</em>, <em>table</em>, <em>partition_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.check_for_named_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.check_for_named_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a partition with a given name exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schema</strong> (<em>string</em>) – Name of hive schema (database) &#64;table belongs to</li>
<li><strong>table</strong> – Name of hive table &#64;partition belongs to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Partition:</th><td class="field-body"><p class="first">Name of the partitions to check for (eg <cite>a=b/c=d</cite>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;static_babynames_partitioned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">check_for_named_partition</span><span class="p">(</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="s2">&quot;ds=2015-01-01&quot;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">check_for_named_partition</span><span class="p">(</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="s2">&quot;ds=xxx&quot;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.check_for_partition">
<code class="descname">check_for_partition</code><span class="sig-paren">(</span><em>schema</em>, <em>table</em>, <em>partition</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.check_for_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.check_for_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether a partition exists</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>schema</strong> (<em>string</em>) – Name of hive schema (database) &#64;table belongs to</li>
<li><strong>table</strong> – Name of hive table &#64;partition belongs to</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Partition:</th><td class="field-body"><p class="first">Expression that matches the partitions to check for
(eg <cite>a = ‘b’ AND c = ‘d’</cite>)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">boolean</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;static_babynames_partitioned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">check_for_partition</span><span class="p">(</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="s2">&quot;ds=&#39;2015-01-01&#39;&quot;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.get_databases">
<code class="descname">get_databases</code><span class="sig-paren">(</span><em>pattern='*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.get_databases"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.get_databases" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a metastore table object</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.get_metastore_client">
<code class="descname">get_metastore_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.get_metastore_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.get_metastore_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Hive thrift client.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.get_partitions">
<code class="descname">get_partitions</code><span class="sig-paren">(</span><em>schema</em>, <em>table_name</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.get_partitions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.get_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all partitions in a table. Works only
for tables with less than 32767 (java short max val).
For subpartitioned table, the number might easily exceed this.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;static_babynames_partitioned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parts</span> <span class="o">=</span> <span class="n">hh</span><span class="o">.</span><span class="n">get_partitions</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">parts</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parts</span>
<span class="go">[{&#39;ds&#39;: &#39;2015-01-01&#39;}]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.get_table">
<code class="descname">get_table</code><span class="sig-paren">(</span><em>table_name</em>, <em>db='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.get_table"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.get_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a metastore table object</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">hh</span><span class="o">.</span><span class="n">get_table</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="s1">&#39;static_babynames&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">tableName</span>
<span class="go">&#39;static_babynames&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">col</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">t</span><span class="o">.</span><span class="n">sd</span><span class="o">.</span><span class="n">cols</span><span class="p">]</span>
<span class="go">[&#39;state&#39;, &#39;year&#39;, &#39;name&#39;, &#39;gender&#39;, &#39;num&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.get_tables">
<code class="descname">get_tables</code><span class="sig-paren">(</span><em>db</em>, <em>pattern='*'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.get_tables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.get_tables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a metastore table object</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.max_partition">
<code class="descname">max_partition</code><span class="sig-paren">(</span><em>schema</em>, <em>table_name</em>, <em>field=None</em>, <em>filter=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.max_partition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.max_partition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum value for all partitions in a table. Works only
for tables that have a single partition key. For subpartitioned
table, we recommend using signal tables.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="s1">&#39;static_babynames_partitioned&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">max_partition</span><span class="p">(</span><span class="n">schema</span><span class="o">=</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="n">t</span><span class="p">)</span>
<span class="go">&#39;2015-01-01&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveMetastoreHook.table_exists">
<code class="descname">table_exists</code><span class="sig-paren">(</span><em>table_name</em>, <em>db='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveMetastoreHook.table_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveMetastoreHook.table_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if table exists</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveMetastoreHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">table_exists</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="s1">&#39;static_babynames&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span><span class="o">.</span><span class="n">table_exists</span><span class="p">(</span><span class="n">db</span><span class="o">=</span><span class="s1">&#39;airflow&#39;</span><span class="p">,</span> <span class="n">table_name</span><span class="o">=</span><span class="s1">&#39;does_not_exist&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.HiveServer2Hook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">HiveServer2Hook</code><span class="sig-paren">(</span><em>hiveserver2_conn_id='hiveserver2_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveServer2Hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveServer2Hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Wrapper around the impyla library</p>
<p>Note that the default authMechanism is PLAIN, to override it you
can specify it in the <code class="docutils literal"><span class="pre">extra</span></code> of your connection in the UI as in</p>
<dl class="method">
<dt id="airflow.hooks.HiveServer2Hook.get_pandas_df">
<code class="descname">get_pandas_df</code><span class="sig-paren">(</span><em>hql</em>, <em>schema='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveServer2Hook.get_pandas_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveServer2Hook.get_pandas_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a pandas dataframe from a Hive query</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveServer2Hook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM airflow.static_babynames LIMIT 100&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">hh</span><span class="o">.</span><span class="n">get_pandas_df</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="go">100</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HiveServer2Hook.get_records">
<code class="descname">get_records</code><span class="sig-paren">(</span><em>hql</em>, <em>schema='default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/hive_hooks.html#HiveServer2Hook.get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HiveServer2Hook.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a set of records from a Hive query.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">hh</span> <span class="o">=</span> <span class="n">HiveServer2Hook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM airflow.static_babynames LIMIT 100&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">hh</span><span class="o">.</span><span class="n">get_records</span><span class="p">(</span><span class="n">sql</span><span class="p">))</span>
<span class="go">100</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.HttpHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">HttpHook</code><span class="sig-paren">(</span><em>method='POST'</em>, <em>http_conn_id='http_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/http_hook.html#HttpHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HttpHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Interact with HTTP servers.</p>
<dl class="method">
<dt id="airflow.hooks.HttpHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><em>headers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/http_hook.html#HttpHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HttpHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns http session for use with requests</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HttpHook.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>endpoint</em>, <em>data=None</em>, <em>headers=None</em>, <em>extra_options=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/http_hook.html#HttpHook.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HttpHook.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the request</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.HttpHook.run_and_check">
<code class="descname">run_and_check</code><span class="sig-paren">(</span><em>session</em>, <em>prepped_request</em>, <em>extra_options</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/http_hook.html#HttpHook.run_and_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.HttpHook.run_and_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs extra options like timeout and actually runs the request,
checking for the result</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.DruidHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">DruidHook</code><span class="sig-paren">(</span><em>druid_ingest_conn_id='druid_ingest_default'</em>, <em>timeout=1</em>, <em>max_ingestion_time=18000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/druid_hook.html#DruidHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.DruidHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code></p>
<p>Connection to Druid</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>druid_ingest_conn_id</strong> (<em>string</em>) – The connection id to the Druid overlord machine which accepts index jobs</li>
<li><strong>timeout</strong> (<em>int</em>) – The interval between polling the Druid job for the status of the ingestion job</li>
<li><strong>max_ingestion_time</strong> (<em>int</em>) – The maximum ingestion time before assuming the job failed</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="airflow.hooks.MySqlHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">MySqlHook</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mysql_hook.html#MySqlHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.MySqlHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code></p>
<p>Interact with MySQL.</p>
<p>You can specify charset in the extra field of your connection
as <code class="docutils literal"><span class="pre">{&quot;charset&quot;:</span> <span class="pre">&quot;utf8&quot;}</span></code>. Also you can choose cursor as
<code class="docutils literal"><span class="pre">{&quot;cursor&quot;:</span> <span class="pre">&quot;SSCursor&quot;}</span></code>. Refer to the MySQLdb.cursors for more details.</p>
<dl class="method">
<dt id="airflow.hooks.MySqlHook.bulk_load">
<code class="descname">bulk_load</code><span class="sig-paren">(</span><em>table</em>, <em>tmp_file</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/mysql_hook.html#MySqlHook.bulk_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.MySqlHook.bulk_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a tab-delimited file into a database table</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.MySqlHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/mysql_hook.html#MySqlHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.MySqlHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mysql connection object</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.PostgresHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">PostgresHook</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/postgres_hook.html#PostgresHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PostgresHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code></p>
<p>Interact with Postgres.
You can specify ssl parameters in the extra field of your connection
as <code class="docutils literal"><span class="pre">{&quot;sslmode&quot;:</span> <span class="pre">&quot;require&quot;,</span> <span class="pre">&quot;sslcert&quot;:</span> <span class="pre">&quot;/path/to/cert.pem&quot;,</span> <span class="pre">etc}</span></code>.</p>
<p>Note: For Redshift, use keepalives_idle in the extra connection parameters
and set it to less than 300 seconds.</p>
<dl class="method">
<dt id="airflow.hooks.PostgresHook.copy_expert">
<code class="descname">copy_expert</code><span class="sig-paren">(</span><em>sql</em>, <em>filename</em>, <em>open=&lt;built-in function open&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/postgres_hook.html#PostgresHook.copy_expert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PostgresHook.copy_expert" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes SQL using psycopg2 copy_expert method
Necessary to execute COPY command without access to a superuser</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.PrestoHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">PrestoHook</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code></p>
<p>Interact with Presto through PyHive!</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ph</span> <span class="o">=</span> <span class="n">PrestoHook</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sql</span> <span class="o">=</span> <span class="s2">&quot;SELECT count(1) AS num FROM airflow.static_babynames&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ph</span><span class="o">.</span><span class="n">get_records</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
<span class="go">[[340698]]</span>
</pre></div>
</div>
<dl class="method">
<dt id="airflow.hooks.PrestoHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a connection object</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.PrestoHook.get_first">
<code class="descname">get_first</code><span class="sig-paren">(</span><em>hql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook.get_first"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook.get_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns only the first row, regardless of how many rows the query
returns.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.PrestoHook.get_pandas_df">
<code class="descname">get_pandas_df</code><span class="sig-paren">(</span><em>hql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook.get_pandas_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook.get_pandas_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a pandas dataframe from a sql query.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.PrestoHook.get_records">
<code class="descname">get_records</code><span class="sig-paren">(</span><em>hql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook.get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook.get_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a set of records from Presto</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.PrestoHook.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>hql</em>, <em>parameters=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/presto_hook.html#PrestoHook.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.PrestoHook.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the statement against Presto. Can be used to create views.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.S3Hook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">S3Hook</code><span class="sig-paren">(</span><em>aws_conn_id='aws_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.contrib.hooks.aws_hook.AwsHook</span></code></p>
<p>Interact with AWS S3, using the boto3 library.</p>
<dl class="method">
<dt id="airflow.hooks.S3Hook.check_for_bucket">
<code class="descname">check_for_bucket</code><span class="sig-paren">(</span><em>bucket_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.check_for_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.check_for_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if bucket_name exists.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.check_for_key">
<code class="descname">check_for_key</code><span class="sig-paren">(</span><em>key</em>, <em>bucket_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.check_for_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.check_for_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a key exists in a bucket</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) – S3 key that will point to the file</li>
<li><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket in which the file is stored</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.check_for_prefix">
<code class="descname">check_for_prefix</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>prefix</em>, <em>delimiter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.check_for_prefix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.check_for_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a prefix exists in a bucket</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.check_for_wildcard_key">
<code class="descname">check_for_wildcard_key</code><span class="sig-paren">(</span><em>wildcard_key</em>, <em>bucket_name=None</em>, <em>delimiter=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.check_for_wildcard_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.check_for_wildcard_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks that a key matching a wildcard expression exists in a bucket</p>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.get_bucket">
<code class="descname">get_bucket</code><span class="sig-paren">(</span><em>bucket_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.get_bucket"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.get_bucket" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boto3.S3.Bucket object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.get_key">
<code class="descname">get_key</code><span class="sig-paren">(</span><em>key</em>, <em>bucket_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.get_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.get_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boto3.s3.Object</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) – the path to the key</li>
<li><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.get_wildcard_key">
<code class="descname">get_wildcard_key</code><span class="sig-paren">(</span><em>wildcard_key</em>, <em>bucket_name=None</em>, <em>delimiter=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.get_wildcard_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.get_wildcard_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a boto3.s3.Object object matching the regular expression</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>regex_key</strong> (<em>str</em>) – the path to the key</li>
<li><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.list_keys">
<code class="descname">list_keys</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>prefix=''</em>, <em>delimiter=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.list_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.list_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists keys in a bucket under prefix and not containing delimiter</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</li>
<li><strong>prefix</strong> (<em>str</em>) – a key prefix</li>
<li><strong>delimiter</strong> (<em>str</em>) – the delimiter marks key hierarchy.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.list_prefixes">
<code class="descname">list_prefixes</code><span class="sig-paren">(</span><em>bucket_name</em>, <em>prefix=''</em>, <em>delimiter=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.list_prefixes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.list_prefixes" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists prefixes in a bucket under prefix</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket_name</strong> (<em>str</em>) – the name of the bucket</li>
<li><strong>prefix</strong> (<em>str</em>) – a key prefix</li>
<li><strong>delimiter</strong> (<em>str</em>) – the delimiter marks key hierarchy.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.load_file">
<code class="descname">load_file</code><span class="sig-paren">(</span><em>filename</em>, <em>key</em>, <em>bucket_name=None</em>, <em>replace=False</em>, <em>encrypt=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a local file to S3</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>filename</strong> (<em>str</em>) – name of the file to load.</li>
<li><strong>key</strong> (<em>str</em>) – S3 key that will point to the file</li>
<li><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket in which to store the file</li>
<li><strong>replace</strong> (<em>bool</em>) – A flag to decide whether or not to overwrite the key
if it already exists. If replace is False and the key exists, an
error will be raised.</li>
<li><strong>encrypt</strong> (<em>bool</em>) – If True, the file will be encrypted on the server-side
by S3 and will be stored in an encrypted form while at rest in S3.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.load_string">
<code class="descname">load_string</code><span class="sig-paren">(</span><em>string_data</em>, <em>key</em>, <em>bucket_name=None</em>, <em>replace=False</em>, <em>encrypt=False</em>, <em>encoding='utf-8'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.load_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.load_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a string to S3</p>
<p>This is provided as a convenience to drop a string in S3. It uses the
boto infrastructure to ship a file to s3.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>string_data</strong> (<em>str</em>) – string to set as content for the key.</li>
<li><strong>key</strong> (<em>str</em>) – S3 key that will point to the file</li>
<li><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket in which to store the file</li>
<li><strong>replace</strong> (<em>bool</em>) – A flag to decide whether or not to overwrite the key
if it already exists</li>
<li><strong>encrypt</strong> (<em>bool</em>) – If True, the file will be encrypted on the server-side
by S3 and will be stored in an encrypted form while at rest in S3.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.hooks.S3Hook.read_key">
<code class="descname">read_key</code><span class="sig-paren">(</span><em>key</em>, <em>bucket_name=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/S3_hook.html#S3Hook.read_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.S3Hook.read_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a key from S3</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) – S3 key that will point to the file</li>
<li><strong>bucket_name</strong> (<em>str</em>) – Name of the bucket in which the file is stored</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.hooks.SqliteHook">
<em class="property">class </em><code class="descclassname">airflow.hooks.</code><code class="descname">SqliteHook</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/sqlite_hook.html#SqliteHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.SqliteHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code></p>
<p>Interact with SQLite.</p>
<dl class="method">
<dt id="airflow.hooks.SqliteHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/sqlite_hook.html#SqliteHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.hooks.SqliteHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a sqlite connection object</p>
</dd></dl>

</dd></dl>

<div class="section" id="community-contributed-hooks">
<h3>Community contributed hooks<a class="headerlink" href="#community-contributed-hooks" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-airflow.contrib.hooks"></span><p>Importer that dynamically loads a class and module from its parent. This
allows Airflow to support <code class="docutils literal"><span class="pre">from</span> <span class="pre">airflow.operators</span> <span class="pre">import</span> <span class="pre">BashOperator</span></code>
even though BashOperator is actually in
<code class="docutils literal"><span class="pre">airflow.operators.bash_operator</span></code>.</p>
<p>The importer also takes over for the parent_module by wrapping it. This is
required to support attribute-based usage:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">airflow</span> <span class="k">import</span> <span class="n">operators</span>
<span class="n">operators</span><span class="o">.</span><span class="n">BashOperator</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="airflow.contrib.hooks.BigQueryHook">
<em class="property">class </em><code class="descclassname">airflow.contrib.hooks.</code><code class="descname">BigQueryHook</code><span class="sig-paren">(</span><em>bigquery_conn_id='bigquery_default'</em>, <em>delegate_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.dbapi_hook.DbApiHook</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>Interact with BigQuery. This hook uses the Google Cloud Platform
connection.</p>
<dl class="method">
<dt id="airflow.contrib.hooks.BigQueryHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a BigQuery PEP 249 connection object.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.BigQueryHook.get_pandas_df">
<code class="descname">get_pandas_df</code><span class="sig-paren">(</span><em>bql</em>, <em>parameters=None</em>, <em>dialect='legacy'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook.get_pandas_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook.get_pandas_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Pandas DataFrame for the results produced by a BigQuery
query. The DbApiHook method must be overridden because Pandas
doesn’t support PEP 249 connections, except for SQLite. See:</p>
<p><a class="reference external" href="https://github.com/pydata/pandas/blob/master/pandas/io/sql.py#L447">https://github.com/pydata/pandas/blob/master/pandas/io/sql.py#L447</a>
<a class="reference external" href="https://github.com/pydata/pandas/issues/6900">https://github.com/pydata/pandas/issues/6900</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bql</strong> (<em>string</em>) – The BigQuery SQL to execute.</li>
<li><strong>parameters</strong> (<em>mapping</em><em> or </em><em>iterable</em>) – The parameters to render the SQL query with (not used, leave to override superclass method)</li>
<li><strong>dialect</strong> (<em>string in {'legacy'</em><em>, </em><em>'standard'}</em><em>, </em><em>default 'legacy'</em>) – Dialect of BigQuery SQL – legacy SQL or standard SQL</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.BigQueryHook.get_service">
<code class="descname">get_service</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook.get_service"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook.get_service" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a BigQuery service object.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.BigQueryHook.insert_rows">
<code class="descname">insert_rows</code><span class="sig-paren">(</span><em>table</em>, <em>rows</em>, <em>target_fields=None</em>, <em>commit_every=1000</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook.insert_rows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook.insert_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Insertion is currently unsupported. Theoretically, you could use
BigQuery’s streaming API to insert rows into a table, but this hasn’t
been implemented.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.BigQueryHook.table_exists">
<code class="descname">table_exists</code><span class="sig-paren">(</span><em>project_id</em>, <em>dataset_id</em>, <em>table_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/bigquery_hook.html#BigQueryHook.table_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.BigQueryHook.table_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for the existence of a table in Google BigQuery.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>project_id</strong> – The Google cloud project in which to look for the table. The connection supplied to the hook</td>
</tr>
</tbody>
</table>
<p>must provide access to the specified project.
:type project_id: string
:param dataset_id: The name of the dataset in which to look for the table.</p>
<blockquote>
<div>storage bucket.</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>table_id</strong> (<em>string</em>) – The name of the table to check the existence of.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook">
<em class="property">class </em><code class="descclassname">airflow.contrib.hooks.</code><code class="descname">GoogleCloudStorageHook</code><span class="sig-paren">(</span><em>google_cloud_storage_conn_id='google_cloud_storage_default'</em>, <em>delegate_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.contrib.hooks.gcp_api_base_hook.GoogleCloudBaseHook</span></code></p>
<p>Interact with Google Cloud Storage. This hook uses the Google Cloud Platform
connection.</p>
<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><em>source_bucket</em>, <em>source_object</em>, <em>destination_bucket=None</em>, <em>destination_object=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies an object from a bucket to another, with renaming if requested.</p>
<p>destination_bucket or destination_object can be omitted, in which case
source bucket/object is used, but not both.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The bucket of the object to copy from.</li>
<li><strong>object</strong> (<em>string</em>) – The object to copy.</li>
<li><strong>destination_bucket</strong> (<em>string</em>) – The destination of the object to copied to.
Can be omitted; then the same bucket is used.</li>
<li><strong>destination_object</strong> – The (renamed) path of the object if given.
Can be omitted; then the same name is used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.delete">
<code class="descname">delete</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em>, <em>generation=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete an object if versioning is not enabled for the bucket, or if generation
parameter is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket</strong> (<em>string</em>) – name of the bucket, where the object resides</li>
<li><strong>object</strong> (<em>string</em>) – name of the object to delete</li>
<li><strong>generation</strong> (<em>string</em>) – if present, permanently delete the object of this generation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if succeeded</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.download">
<code class="descname">download</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em>, <em>filename=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.download"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.download" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a file from Google Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The bucket to fetch from.</li>
<li><strong>object</strong> (<em>string</em>) – The object to fetch.</li>
<li><strong>filename</strong> (<em>string</em>) – If set, a local file path where the file should be written to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.exists">
<code class="descname">exists</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for the existence of a file in Google Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The Google cloud storage bucket where the object is.</li>
<li><strong>object</strong> (<em>string</em>) – The name of the object to check in the Google cloud
storage bucket.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Google Cloud Storage service object.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.is_updated_after">
<code class="descname">is_updated_after</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em>, <em>ts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.is_updated_after"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.is_updated_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an object is updated in Google Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The Google cloud storage bucket where the object is.</li>
<li><strong>object</strong> (<em>string</em>) – The name of the object to check in the Google cloud
storage bucket.</li>
<li><strong>ts</strong> (<em>datetime</em>) – The timestamp to check against.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.list">
<code class="descname">list</code><span class="sig-paren">(</span><em>bucket</em>, <em>versions=None</em>, <em>maxResults=None</em>, <em>prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.list" title="Permalink to this definition">¶</a></dt>
<dd><p>List all objects from the bucket with the give string prefix in name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>bucket</strong> (<em>string</em>) – bucket name</li>
<li><strong>versions</strong> (<em>boolean</em>) – if true, list all versions of the objects</li>
<li><strong>maxResults</strong> (<em>integer</em>) – max count of items to return in a single page of responses</li>
<li><strong>prefix</strong> (<em>string</em>) – prefix string which filters objects whose name begin with this prefix</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a stream of object names matching the filtering criteria</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.GoogleCloudStorageHook.upload">
<code class="descname">upload</code><span class="sig-paren">(</span><em>bucket</em>, <em>object</em>, <em>filename</em>, <em>mime_type='application/octet-stream'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/gcs_hook.html#GoogleCloudStorageHook.upload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.GoogleCloudStorageHook.upload" title="Permalink to this definition">¶</a></dt>
<dd><p>Uploads a local file to Google Cloud Storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bucket</strong> (<em>string</em>) – The bucket to upload to.</li>
<li><strong>object</strong> (<em>string</em>) – The object name to set when uploading the local file.</li>
<li><strong>filename</strong> (<em>string</em>) – The local file path to the file to be uploaded.</li>
<li><strong>mime_type</strong> (<em>string</em>) – The MIME type to set when uploading the file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.contrib.hooks.FTPHook">
<em class="property">class </em><code class="descclassname">airflow.contrib.hooks.</code><code class="descname">FTPHook</code><span class="sig-paren">(</span><em>ftp_conn_id='ftp_default'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.hooks.base_hook.BaseHook</span></code>, <code class="xref py py-class docutils literal"><span class="pre">airflow.utils.log.logging_mixin.LoggingMixin</span></code></p>
<p>Interact with FTP.</p>
<p>Errors that may occur throughout but should be handled
downstream.</p>
<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.close_conn">
<code class="descname">close_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.close_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.close_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the connection. An error will occur if the
connection wasn’t ever opened.</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.create_directory">
<code class="descname">create_directory</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.create_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.create_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a directory on the remote system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – full path to the remote directory to create</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.delete_directory">
<code class="descname">delete_directory</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.delete_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.delete_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a directory on the remote system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – full path to the remote directory to delete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.delete_file">
<code class="descname">delete_file</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.delete_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.delete_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a file on the FTP Server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – full path to the remote file</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.describe_directory">
<code class="descname">describe_directory</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.describe_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.describe_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of {filename: {attributes}} for all files
on the remote system (where the MLSD command is supported).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – full path to the remote directory</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.get_conn">
<code class="descname">get_conn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.get_conn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.get_conn" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a FTP connection object</p>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.list_directory">
<code class="descname">list_directory</code><span class="sig-paren">(</span><em>path</em>, <em>nlst=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.list_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.list_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of files on the remote system.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<em>str</em>) – full path to the remote directory to list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.rename">
<code class="descname">rename</code><span class="sig-paren">(</span><em>from_name</em>, <em>to_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename a file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>from_name</strong> – rename file from name</li>
<li><strong>to_name</strong> – rename file to name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.retrieve_file">
<code class="descname">retrieve_file</code><span class="sig-paren">(</span><em>remote_full_path</em>, <em>local_full_path_or_buffer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.retrieve_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.retrieve_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers the remote file to a local location.</p>
<p>If local_full_path_or_buffer is a string path, the file will be put
at that location; if it is a file-like buffer, the file will
be written to the buffer but not closed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>remote_full_path</strong> (<em>str</em>) – full path to the remote file</li>
<li><strong>local_full_path_or_buffer</strong> – full path to the local file or a
file-like buffer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="airflow.contrib.hooks.FTPHook.store_file">
<code class="descname">store_file</code><span class="sig-paren">(</span><em>remote_full_path</em>, <em>local_full_path_or_buffer</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/ftp_hook.html#FTPHook.store_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.FTPHook.store_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfers a local file to the remote location.</p>
<p>If local_full_path_or_buffer is a string path, the file will be read
from that location; if it is a file-like buffer, the file will
be read from the buffer but not closed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>remote_full_path</strong> (<em>str</em>) – full path to the remote file</li>
<li><strong>local_full_path_or_buffer</strong> (<em>str</em><em> or </em><em>file-like buffer</em>) – full path to the local file or a
file-like buffer</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook">
<em class="property">class </em><code class="descclassname">airflow.contrib.hooks.gcs_hook.</code><code class="descname">GoogleCloudStorageHook</code><span class="sig-paren">(</span><em>google_cloud_storage_conn_id='google_cloud_storage_default'</em>, <em>delegate_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/hooks/gcs_hook.html#GoogleCloudStorageHook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.hooks.gcs_hook.GoogleCloudStorageHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Interact with Google Cloud Storage. This hook uses the Google Cloud Platform
connection.</p>
</dd></dl>

</div>
</div>
<div class="section" id="executors">
<h2>Executors<a class="headerlink" href="#executors" title="Permalink to this headline">¶</a></h2>
<p>Executors are the mechanism by which task instances get run.</p>
<span class="target" id="module-airflow.executors"></span><dl class="class">
<dt id="airflow.executors.LocalExecutor">
<em class="property">class </em><code class="descclassname">airflow.executors.</code><code class="descname">LocalExecutor</code><span class="sig-paren">(</span><em>parallelism=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/executors/local_executor.html#LocalExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.executors.LocalExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.executors.base_executor.BaseExecutor</span></code></p>
<p>LocalExecutor executes tasks locally in parallel. It uses the
multiprocessing Python library and queues to parallelize the execution
of tasks.</p>
</dd></dl>

<dl class="class">
<dt id="airflow.executors.SequentialExecutor">
<em class="property">class </em><code class="descclassname">airflow.executors.</code><code class="descname">SequentialExecutor</code><a class="reference internal" href="_modules/airflow/executors/sequential_executor.html#SequentialExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.executors.SequentialExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">airflow.executors.base_executor.BaseExecutor</span></code></p>
<p>This executor will only run one task instance at a time, can be used
for debugging. It is also the only executor that can be used with sqlite
since sqlite doesn’t support multiple connections.</p>
<p>Since we want airflow to work out of the box, it defaults to this
SequentialExecutor alongside sqlite as you first install it.</p>
</dd></dl>

<div class="section" id="community-contributed-executors">
<h3>Community-contributed executors<a class="headerlink" href="#community-contributed-executors" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="airflow.contrib.executors.mesos_executor.MesosExecutor">
<em class="property">class </em><code class="descclassname">airflow.contrib.executors.mesos_executor.</code><code class="descname">MesosExecutor</code><span class="sig-paren">(</span><em>parallelism=32</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/airflow/contrib/executors/mesos_executor.html#MesosExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#airflow.contrib.executors.mesos_executor.MesosExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>MesosExecutor allows distributing the execution of task
instances to multiple mesos workers.</p>
<p>Apache Mesos is a distributed systems kernel which abstracts
CPU, memory, storage, and other compute resources away from
machines (physical or virtual), enabling fault-tolerant and
elastic distributed systems to easily be built and run effectively.
See <a class="reference external" href="http://mesos.apache.org/">http://mesos.apache.org/</a></p>
</dd></dl>

</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="faq.html" class="btn btn-neutral" title="FAQ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>